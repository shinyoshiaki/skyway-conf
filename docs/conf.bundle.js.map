{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/shared/global-style.ts","webpack:///./src/conf/components/icon.tsx","webpack:///./src/conf/utils/style.ts","webpack:///./src/conf/stores/ui.ts","webpack:///./src/conf/stores/client.ts","webpack:///./src/conf/stores/media.ts","webpack:///./src/conf/stores/room.ts","webpack:///./src/conf/stores/notification.ts","webpack:///./src/conf/stores/subtitle.ts","webpack:///./src/conf/contexts.ts","webpack:///./src/conf/stores/index.ts","webpack:///./node_modules/@emotion/css/dist/css.browser.esm.js","webpack:///./node_modules/@emotion/hash/dist/hash.browser.esm.js","webpack:///./node_modules/@emotion/unitless/dist/unitless.browser.esm.js","webpack:///./node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack:///./node_modules/@emotion/serialize/dist/serialize.browser.esm.js","webpack:///./src/shared/validate.ts","webpack:///./node_modules/@emotion/sheet/dist/sheet.browser.esm.js","webpack:///./node_modules/@emotion/utils/dist/utils.browser.esm.js","webpack:///./src/conf/utils/skyway.ts","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/scheduler/cjs/scheduler.production.min.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///./node_modules/@emotion/stylis/dist/stylis.browser.esm.js","webpack:///./node_modules/@emotion/cache/dist/cache.browser.esm.js","webpack:///./node_modules/scheduler/index.js","webpack:///./node_modules/ms/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/wildemitter/wildemitter.js","webpack:///./src/conf/utils/webrtc.ts","webpack:///./src/conf/effects/bootstrap.ts","webpack:///./src/conf/components/error-detail.tsx","webpack:///./src/conf/components/loader.tsx","webpack:///./src/conf/observers/bootstrap.tsx","webpack:///./src/conf/components/modal.tsx","webpack:///./src/conf/components/video.tsx","webpack:///./src/conf/components/settings-item.tsx","webpack:///./src/conf/components/settings-name-edit.tsx","webpack:///./src/conf/components/settings-device-selector.tsx","webpack:///./src/conf/components/stream-controller.tsx","webpack:///./src/conf/components/settings-layout.tsx","webpack:///./src/conf/effects/room.ts","webpack:///./src/conf/effects/settings.ts","webpack:///./src/conf/observers/settings.tsx","webpack:///./src/conf/components/notification-layout.tsx","webpack:///./src/conf/components/toast.tsx","webpack:///./src/conf/observers/notification.tsx","webpack:///./src/conf/components/chat-message.tsx","webpack:///./src/conf/components/chat-layout.tsx","webpack:///./src/conf/effects/chat.ts","webpack:///./src/conf/observers/chat.tsx","webpack:///./src/conf/components/stats-summary.tsx","webpack:///./src/conf/utils/stats.ts","webpack:///./src/conf/components/stats-dump.tsx","webpack:///./src/conf/components/stats-layout.tsx","webpack:///./src/conf/effects/stats.ts","webpack:///./src/conf/observers/stats.tsx","webpack:///./src/conf/effects/exit.ts","webpack:///./src/conf/observers/exit.tsx","webpack:///./src/conf/observers/pinned-stream.tsx","webpack:///./src/conf/components/stream-info.tsx","webpack:///./src/conf/components/va-detector.tsx","webpack:///./src/conf/components/local-stream-layout.tsx","webpack:///./src/conf/effects/local-stream.ts","webpack:///./src/conf/observers/local-stream.tsx","webpack:///./src/conf/components/recognition-layout.tsx","webpack:///./src/conf/effects/recognition.ts","webpack:///./src/conf/observers/recognition.tsx","webpack:///./src/conf/effects/remote-streams.ts","webpack:///./src/conf/components/remote-stream-layout.tsx","webpack:///./src/conf/components/remote-streams-layout.tsx","webpack:///./src/conf/observers/remote-streams.tsx","webpack:///./src/conf/components/layout.tsx","webpack:///./src/conf/components/main.tsx","webpack:///./src/conf/components/left-bottom.tsx","webpack:///./src/conf/components/right-menu.tsx","webpack:///./src/conf/components/left-top.tsx","webpack:///./src/conf/components/bottom.tsx","webpack:///./src/conf/components/subtitle-layout.tsx","webpack:///./src/conf/observers/subtitle.tsx","webpack:///./src/conf/app.tsx","webpack:///./src/conf/main.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","fontSize","globalColors","blue","lightblue","red","gray","white","black","animation","moveBackground","keyframes","globalStyle","css","html","WebkitFontSmoothing","body","margin","fontFamily","fontWeight","lineHeight","height","background","overflow","Icon","showEdge","className","iconStyle","edgedStyle","BrowserIcon","version","src","toLowerCase","title","imgStyle","alt","IconButton","disabled","onClick","buttonStyle","disabledStyle","textShadow","padding","appearance","border","color","cursor","zIndex","base","modal","notification","modalContentWidth","innerWidth","rightMenuWidth","rightMenuTogglerHeight","UiStore","constructor","error","isSettingsOpen","isChatOpen","isReactionOpen","isStatsOpen","isReEntering","this","showError","err","decorate","observable","ref","action","ClientStore","hasGetDisplayMedia","hasUserVideoDevice","isReady","displayName","parsedBrowser","trim","browser","load","ua","parse","isDisplayNameValid","computed","stat","MediaStore","audioInDevices","videoInDevices","audioDeviceId","videoDeviceId","isAudioTrackMuted","isVideoTrackMuted","videoType","audioTrack","videoTrack","stream","MediaStream","MediaStreamTrack","addTrack","enabled","isVideoDisabled","isAudioMuted","isVideoMuted","setAudioTrack","track","deviceId","setVideoTrack","type","releaseAudioDevice","stop","releaseVideoDevice","deleteVideoTrack","setAudioDevices","replace","setVideoDevices","toggleMuted","kind","shallow","isAudioEnabled","RoomStore","peer","room","id","useH264","streams","stats","chats","subtitles","myLastChat","myLastSubtitle","myLastReaction","pinnedId","castRequestCount","rtcStats","Map","addLocalChat","from","text","chat","Math","random","time","Date","now","isMine","addRemoteChat","addLocalSubtitle","subtitle","addRemoteSubtitle","addReaction","reaction","removeStream","peerId","delete","getPeerConnection","getPeerConnectionFromSfuRoom","cleanUp","Error","values","forEach","getTracks","clear","isJoined","pinnedStream","NotificationStore","items","showInfo","show","showChat","showReaction","showJoin","showLeave","duration","item","setTimeout","remove","SubtitleStore","rootStore","ui","client","media","store","StoreContext","createContext","_len","arguments","args","Array","_key","str","k","h","charCodeAt","toString","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","opacity","order","orphans","tabSize","widows","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","hyphenateRegex","animationRegex","isCustomProperty","isProcessableValue","processStyleName","fn","cache","arg","undefined","styleName","match","p1","p2","styles","next","handleInterpolation","mergedProps","registered","interpolation","couldBeSelectorInterpolation","__emotion_styles","anim","obj","string","isArray","interpolated","_i","createStringFromObject","previousCursor","cached","labelPattern","stringMode","strings","raw","lastIndex","identifierName","exec","isValidRoomType","maxRoomIdLength","roomIdRe","isValidRoomId","RegExp","test","StyleSheet","options","isSpeedy","speedy","tags","ctr","nonce","container","before","_proto","insert","rule","_tag","tag","document","createElement","setAttribute","appendChild","createTextNode","createStyleElement","nextSibling","insertBefore","sheet","styleSheets","ownerNode","sheetForTag","isImportRule","insertRule","cssRules","e","flush","parentNode","removeChild","getRegisteredStyles","registeredStyles","classNames","rawClassName","split","insertStyles","serialized","isStringTag","inserted","current","initPeer","forceTurn","Promise","resolve","reject","Peer","debug","config","iceTransportPolicy","once","removeListener","_negotiator","_pc","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","letter","keys","shouldUseNative","target","source","symbols","to","f","g","MessageChannel","q","a","unstable_now","b","u","clearTimeout","unstable_forceFrameRate","w","performance","x","y","z","console","A","cancelAnimationFrame","requestAnimationFrame","B","C","D","E","F","G","floor","H","I","port2","port1","onmessage","postMessage","J","K","L","M","pop","v","sortIndex","N","O","P","Q","R","S","T","U","V","callback","startTime","expirationTime","W","X","priorityLevel","Y","Z","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","timeout","unstable_shouldYield","unstable_wrapCallback","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","marker","runClearTimeout","Item","array","noop","nextTick","env","argv","versions","on","addListener","off","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","subClass","superClass","__proto__","ia","indexOf","substring","ja","ka","aa","ba","la","ma","na","ea","oa","prefix","charAt","ca","da","fa","ha","use","set","toSheet","block","Sheet","ruleSheet","context","content","selectors","parents","line","column","depth","at","delimiter","stylisOptions","stylis","head","_insert","nodes","querySelectorAll","node","getAttribute","stylisPlugins","selector","shouldCache","plural","ms","msAbs","isPlural","round","parseFloat","isNaN","long","abs","fmtLong","fmtShort","JSON","stringify","Function","WildEmitter","mixin","isWildEmitter","event","groupName","callbacks","hasGroup","group","func","_groupName","self","releaseGroup","handlers","specialCallbacks","getWildcardCallbacks","eventName","getUserDevices","async","devices","navigator","mediaDevices","enumerateDevices","device","ret","video","audio","getUserAudioTrack","constraints","exact","getUserMedia","then","getAudioTracks","getUserVideoTrack","getVideoTracks","log","wrapperStyle","headStyle","message","detailStyle","stack","Loader","Bootstrap","children","useContext","useEffect","roomType","roomId","location","hash","params","URLSearchParams","search","has","catch","checkRoomSetting","userAgent","getDisplayMedia","localStorage","getItem","toJS","initAudioDeviceAndClient","disposers","muted","observe","change","oldValue","newValue","setItem","listenStoreChanges","reloadOnHashChange","reload","reloadOnDeviceAddOrRemoved","curAudioInDevices","curVideoInDevices","addEventListener","removeEventListener","listenGlobalEvents","position","top","left","right","bottom","backgroundColor","willChange","Modal","_log","memo","isReverse","isVideoOnly","isNoAudio","isNoVideo","videoRef","useRef","audioRef","extend","$video","srcObject","paused","play","$audio","videoStyle","reverseVideoStyle","playsInline","audioStyle","SettingsItemDevice","label","deviceStyle","labelStyle","SettingsItemName","nameStyle","SettingsNameEdit","defaultDispName","isInvalid","onChangeDispName","dispName","setDispName","useState","maxLength","placeholder","onChange","ev","invalidStyle","boxSizing","width","borderBottom","borderColor","SettingsDeviceSelector","inDevices","onChangeDeviceId","formStyle","SettingsDeviceToggler","StreamController","controllers","rowStyle","display","gridTemplateColumns","SettingsLayout","onChangeVideoDeviceId","onChangeAudioDeviceId","onClickToggleVideoMuted","onClickToggleAudioMuted","onClickEnableUserVideo","onClickDisableUserVideo","onClickEnableDisplayVideo","onClickDisableDisplayVideo","onClickCloseSettings","onClickJoinConference","controllerStyle","settingsStyle","buttonWrapStyle","doneButtonStyle","alignItems","borderRadius","joinRoom","roomOptions","videoReceiveEnabled","videoCodec","confRoom","send","payload","replaceStream","close","cast","enableDisplayVideo","getDisplayVideoTrack","disableDisplayVideo","Settings","useCallback","changeDispName","enableUserVideo","disableUserVideo","changeVideoDeviceId","changeAudioDeviceId","joinConference","closeSettings","toggleAudioMuted","toggleVideoMuted","NotificationLayout","Toast","textStyle","marginBottom","Notification","ChatMessage","mineStyle","toLocaleTimeString","marginTop","wordBreak","marginLeft","ChatLayout","onClickCloser","onClickSend","buffer","setBuffer","onSend","scrollerRef","$scroller","scrollTo","scrollHeight","behavior","scrollerStyle","editorStyle","inputStyle","gridTemplateRows","ChatOpener","onClickOpenChat","openChat","Chat","onClickCloseChat","closeChat","onClickSendChat","sendChat","StatsSummary","summarizedStats","summarizeStats","statsStyle","candidatePairs","filter","selected","nominated","localCandidateId","remoteCandidateId","localReport","remoteReport","warn","localCandidate","address","ip","port","protocol","candidateType","remoteCandidate","extractCandidatePairs","audioOutbounds","videoOutbounds","outboundRtps","outbounds","bytesSent","packetsSent","mediaType","extractOutboundRtps","audioInbounds","videoInbounds","inboundRtps","size","bytesReceived","packetsReceived","packetsLost","nackCount","firCount","pliCount","ssrc","extractInboundRtps","idx","StatsDump","searchKey","setSearchKey","filteredStats","filterStats","reports","res","includes","StatsLayout","isSfu","open","naStyle","StatsOpener","onClickOpenStats","timer","setInterval","pc","getStats","statsReport","when","clearInterval","openStats","Stats","onClickCloseStats","closeStats","ExitOpener","onClickExitRoom","confirm","href","PinnedStream","info","setInfo","updateInfo","vTrack","aTrack","vSettings","getSettings","timestamp","browserName","browserVersion","streamId","trackId","frameRate","overflowScrolling","hark","require","decibel","setDecibel","Infinity","harker","threshold","db","style","decibelToStyle","audioLevel","LocalStreamLayout","onClickCastVideo","onClickOpenSettings","isMinimize","setMinimize","isInfoShown","setInfoShown","minimizeStyle","actionStyle","infoStyle","outline","transition","localStreamWidth","LocalStream","castVideo","openSettings","RecognitionLayout","onClickDownload","progress","RecognitionEffect","recognition","webkitSpeechRecognition","running","onFinal","onProgress","onError","continuous","interimResults","onresult","resultIndex","results","isFinal","transcript","start","onerror","toggle","Recognition","recognitionRef","setProgress","reduce","acc","cur","blob","Blob","url","URL","createObjectURL","anchor","download","click","RemoteStreamLayout","isPinned","onClickSetPinned","sortByVideo","aStream","bStream","RemoteStreamsLayout","numberStyle","sort","entry","find","textAlign","RemoteStreams","setPinned","entries","Layout","Main","LeftBottom","bottomStyle","RightMenu","openers","isVisible","setVisible","visibleClass","knobStyle","togglerStyle","opener","wrapperWidth","transform","justifyContent","LeftTop","Bottom","mq","facepaint","bp","literal","SubtitleLayout","minHeight","Subtitle","App","React","props","state","super","render","componentDidCatch","setState","getElementById"],"mappings":"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","file":"conf.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([34,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { css, keyframes } from \"@emotion/core\";\n\nexport const fontSize = 16;\n\nexport const globalColors = {\n  blue: \"#005ece\",\n  lightblue: \"#039be5\",\n  red: \"#ff6673\",\n  gray: \"#eee\",\n  white: \"#fff\",\n  black: \"#111\",\n};\n\nexport const animation = {\n  moveBackground: keyframes`\n      0% { background-position: top left; }\n    100% { background-position: top right; }\n  `,\n};\n\nexport const globalStyle = css({\n  html: {\n    WebkitFontSmoothing: \"antialiased\",\n  },\n  body: {\n    margin: 0,\n    fontSize,\n    fontFamily: '\"Open Sans\", sans-serif',\n    fontWeight: \"lighter\",\n    lineHeight: 1.5,\n    height: \"100vh\",\n    background: `linear-gradient(45deg, ${globalColors.lightblue}, ${globalColors.blue})`,\n  },\n  \"#app-root\": {\n    height: \"100vh\",\n    overflow: \"hidden\",\n  },\n});\n","import * as React from \"react\";\nimport { FunctionComponent, SyntheticEvent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { fontSize, globalColors } from \"../../shared/global-style\";\nimport { ClientBrowser } from \"../utils/types\";\n\ninterface Props {\n  name: string;\n  showEdge?: boolean;\n}\nexport const Icon: FunctionComponent<Props> = ({ name, showEdge }: Props) => (\n  <i\n    className=\"material-icons\"\n    css={showEdge ? [iconStyle, edgedStyle] : iconStyle}\n  >\n    {name}\n  </i>\n);\n\nexport const BrowserIcon: FunctionComponent<ClientBrowser> = ({\n  name,\n  version,\n}: ClientBrowser) => {\n  let src = null;\n  switch (name) {\n    case \"Chrome\":\n    case \"Firefox\":\n    case \"Safari\":\n      src = `./images/conf/icon-${name.toLowerCase()}.svg`;\n      break;\n    case \"Microsoft Edge\":\n      src = \"./images/conf/icon-edge.svg\";\n      break;\n  }\n\n  const title = `${name} v${version}`;\n\n  return src !== null ? (\n    <img css={imgStyle} src={src} alt={title} title={title} />\n  ) : (\n    <Icon name=\"info\" />\n  );\n};\n\ninterface ButtonProps extends Props {\n  onClick: (ev: SyntheticEvent<HTMLButtonElement>) => void;\n  title?: string;\n  disabled?: boolean;\n}\nexport const IconButton: FunctionComponent<ButtonProps> = ({\n  name,\n  showEdge,\n  title,\n  disabled,\n  onClick,\n}: ButtonProps) => (\n  <button\n    disabled={disabled}\n    onClick={onClick}\n    title={title}\n    css={disabled ? [buttonStyle, disabledStyle] : buttonStyle}\n  >\n    <Icon name={name} showEdge={showEdge} />\n  </button>\n);\n\nconst iconStyle = css({\n  fontSize,\n});\n\nconst edgedStyle = css({\n  textShadow: `0 0 1px ${globalColors.black}`,\n});\n\nconst imgStyle = css({\n  height: fontSize,\n});\n\nconst buttonStyle = css({\n  padding: \"0 1px\",\n  height: fontSize,\n  appearance: \"none\",\n  border: \"none\",\n  background: \"none\",\n  color: \"inherit\",\n  cursor: \"pointer\",\n});\n\nconst disabledStyle = css({\n  opacity: 0.6,\n  cursor: \"not-allowed\",\n});\n","export const zIndex = {\n  base: 10,\n  modal: 100,\n  notification: 1000,\n};\n\n// 768 = iPad device-width, if smaller apply small size\nexport const modalContentWidth = window.innerWidth > 768 - 1 ? 600 : 300;\n\nexport const rightMenuWidth = 250;\nexport const rightMenuTogglerHeight = 32;\n","import { decorate, observable, action } from \"mobx\";\n\nclass UiStore {\n  error: Error | null;\n  isSettingsOpen: boolean;\n  isChatOpen: boolean;\n  isReactionOpen: boolean;\n  isStatsOpen: boolean;\n  isReEntering: boolean;\n\n  constructor() {\n    this.error = null;\n    this.isSettingsOpen = true;\n    this.isChatOpen = false;\n    this.isReactionOpen = false;\n    this.isStatsOpen = false;\n    this.isReEntering = false;\n  }\n\n  showError(err: Error): Error {\n    this.error = err;\n    return err;\n  }\n}\ndecorate(UiStore, {\n  error: observable.ref,\n  isSettingsOpen: observable,\n  isChatOpen: observable,\n  isReactionOpen: observable,\n  isStatsOpen: observable,\n  isReEntering: observable,\n  showError: action,\n});\n\nexport default UiStore;\n","import { decorate, observable, computed, action } from \"mobx\";\nimport { parse } from \"bowser\";\nimport { Parser } from \"bowser\";\nimport { ClientInit, ClientBrowser } from \"../utils/types\";\n\nclass ClientStore {\n  hasGetDisplayMedia: boolean;\n  hasUserVideoDevice: boolean;\n  isReady: boolean;\n  displayName: string;\n  private parsedBrowser: Parser.ParsedResult | null;\n\n  constructor() {\n    this.hasGetDisplayMedia = false;\n    this.hasUserVideoDevice = false;\n    this.isReady = false;\n    this.displayName = \"YOUR_NAME\";\n    this.parsedBrowser = null;\n  }\n\n  get isDisplayNameValid(): boolean {\n    if (this.displayName.trim() === \"\") return false;\n    return true;\n  }\n\n  get stat() {\n    return {\n      displayName: this.displayName,\n      browser: this.browser,\n    };\n  }\n\n  get browser(): ClientBrowser {\n    const { parsedBrowser } = this;\n    if (parsedBrowser === null) {\n      return {\n        name: \"N/A\",\n        version: \"0.0.0\",\n      };\n    }\n\n    return {\n      name: parsedBrowser.browser.name || \"unknown\",\n      version: parsedBrowser.browser.version || \"0.0.0\",\n    };\n  }\n\n  load({ name, ua, hasGetDisplayMedia, hasUserVideoDevice }: ClientInit) {\n    this.hasGetDisplayMedia = hasGetDisplayMedia;\n    this.hasUserVideoDevice = hasUserVideoDevice;\n    this.isReady = true;\n    if (name.length !== 0) this.displayName = name;\n    this.parsedBrowser = parse(ua);\n  }\n}\n// @ts-ignore: to use private accessor\ndecorate(ClientStore, {\n  hasGetDisplayMedia: observable,\n  hasUserVideoDevice: observable,\n  isReady: observable,\n  displayName: observable,\n  parsedBrowser: observable.ref,\n  isDisplayNameValid: computed,\n  stat: computed,\n  browser: computed,\n  load: action,\n});\n\nexport default ClientStore;\n","import { decorate, observable, computed, action } from \"mobx\";\nimport { IObservableArray } from \"mobx\";\nimport { UserDevices, VideoType } from \"../utils/types\";\n\nclass MediaStore {\n  audioInDevices: IObservableArray<MediaDeviceInfo>;\n  videoInDevices: IObservableArray<MediaDeviceInfo>;\n  audioDeviceId: string | null;\n  videoDeviceId: string | null;\n  isAudioTrackMuted: boolean;\n  isVideoTrackMuted: boolean;\n  videoType: VideoType;\n  private audioTrack: MediaStreamTrack | null;\n  private videoTrack: MediaStreamTrack | null;\n\n  constructor() {\n    // @ts-ignore: to type IObservableArray\n    this.audioInDevices = [];\n    // @ts-ignore: to type IObservableArray\n    this.videoInDevices = [];\n    this.audioDeviceId = null;\n    this.videoDeviceId = null;\n    this.isVideoTrackMuted = false;\n    this.isAudioTrackMuted = false;\n    this.videoType = null;\n    this.audioTrack = null;\n    this.videoTrack = null;\n  }\n\n  get isAudioEnabled(): boolean {\n    return this.audioInDevices.length !== 0;\n  }\n\n  get stream(): MediaStream {\n    const stream = new MediaStream();\n\n    if (this.audioTrack instanceof MediaStreamTrack) {\n      stream.addTrack(this.audioTrack);\n      this.audioTrack.enabled = !this.isAudioTrackMuted;\n    }\n\n    if (this.videoTrack instanceof MediaStreamTrack) {\n      stream.addTrack(this.videoTrack);\n      this.videoTrack.enabled = !this.isVideoTrackMuted;\n    }\n\n    return stream;\n  }\n\n  get stat() {\n    return {\n      isVideoDisabled: this.videoType === null,\n      isAudioMuted: this.isAudioTrackMuted,\n      isVideoMuted: this.isVideoTrackMuted,\n    };\n  }\n\n  setAudioTrack(track: MediaStreamTrack, deviceId: string) {\n    this.audioTrack = track;\n    this.audioDeviceId = deviceId;\n  }\n\n  setVideoTrack(track: MediaStreamTrack, type: VideoType, deviceId: string) {\n    this.videoTrack = track;\n    this.videoType = type;\n    this.videoDeviceId = deviceId;\n  }\n\n  releaseAudioDevice() {\n    if (this.audioTrack instanceof MediaStreamTrack) {\n      this.audioTrack.stop();\n    }\n  }\n\n  releaseVideoDevice() {\n    if (this.videoTrack instanceof MediaStreamTrack) {\n      this.videoTrack.stop();\n    }\n  }\n\n  deleteVideoTrack() {\n    if (this.videoTrack instanceof MediaStreamTrack) {\n      this.videoTrack.stop();\n    }\n    this.videoTrack = null;\n    this.videoType = null;\n    this.videoDeviceId = null;\n  }\n\n  setAudioDevices({ audioInDevices }: UserDevices) {\n    if (audioInDevices !== null) {\n      this.audioInDevices.replace(audioInDevices);\n    }\n  }\n\n  setVideoDevices({ videoInDevices }: UserDevices) {\n    if (videoInDevices !== null) {\n      this.videoInDevices.replace(videoInDevices);\n    }\n  }\n\n  toggleMuted(kind: MediaStreamTrack[\"kind\"]) {\n    if (kind === \"video\") {\n      this.isVideoTrackMuted = !this.isVideoTrackMuted;\n    }\n    if (kind === \"audio\") {\n      this.isAudioTrackMuted = !this.isAudioTrackMuted;\n    }\n  }\n}\n\n// @ts-ignore: to use private accessor\ndecorate(MediaStore, {\n  audioInDevices: observable.shallow,\n  videoInDevices: observable.shallow,\n  audioDeviceId: observable,\n  videoDeviceId: observable,\n  isAudioTrackMuted: observable,\n  isVideoTrackMuted: observable,\n  videoType: observable,\n  audioTrack: observable.ref,\n  videoTrack: observable.ref,\n  stat: computed,\n  isAudioEnabled: computed,\n  stream: computed,\n  setAudioTrack: action,\n  setVideoTrack: action,\n  releaseAudioDevice: action,\n  releaseVideoDevice: action,\n  deleteVideoTrack: action,\n  setAudioDevices: action,\n  setVideoDevices: action,\n  toggleMuted: action,\n});\n\nexport default MediaStore;\n","import { decorate, observable, computed, action } from \"mobx\";\nimport { IObservableArray } from \"mobx\";\nimport Peer, { RoomStream, SfuRoom, MeshRoom } from \"skyway-js\";\nimport {\n  RoomInit,\n  RoomStat,\n  RoomChat,\n  RoomReaction,\n  RoomSubtitle,\n} from \"../utils/types\";\nimport { getPeerConnectionFromSfuRoom } from \"../utils/skyway\";\n\nclass RoomStore {\n  peer: Peer | null;\n  isReady: boolean;\n  room: SfuRoom | MeshRoom | null;\n  mode: RoomInit[\"mode\"] | null;\n  id: RoomInit[\"id\"] | null;\n  useH264: RoomInit[\"useH264\"];\n  streams: Map<string, RoomStream>;\n  stats: Map<string, RoomStat>;\n  chats: IObservableArray<RoomChat>;\n  subtitles: IObservableArray<RoomSubtitle>;\n  myLastChat: RoomChat | null;\n  myLastSubtitle: RoomSubtitle | null;\n  myLastReaction: RoomReaction | null;\n  pinnedId: string | null;\n  castRequestCount: number;\n  rtcStats: RTCStatsReport | null;\n\n  constructor() {\n    // Peer instance\n    this.peer = null;\n    this.isReady = false;\n    // (Sfu|Mesh)Room instance\n    this.room = null;\n    // room name = mode + id\n    this.mode = null;\n    this.id = null;\n    this.useH264 = false;\n\n    this.streams = new Map();\n    this.stats = new Map();\n    // @ts-ignore: to type IObservableArray\n    this.chats = [];\n    // @ts-ignore: to type IObservableArray\n    this.subtitles = [];\n    this.myLastChat = null;\n    this.myLastSubtitle = null;\n    this.myLastReaction = null;\n    this.pinnedId = null;\n    this.castRequestCount = 0;\n    this.rtcStats = null;\n  }\n\n  get name(): string {\n    return `${this.mode}/${this.id}`;\n  }\n\n  get isJoined(): boolean {\n    return this.room !== null;\n  }\n\n  get pinnedStream(): RoomStream | null {\n    if (this.pinnedId === null) {\n      return null;\n    }\n    return this.streams.get(this.pinnedId) || null;\n  }\n\n  load({ mode, id, useH264 }: RoomInit, peer: Peer) {\n    this.mode = mode;\n    this.id = id;\n    this.useH264 = useH264;\n    this.peer = peer;\n    this.isReady = true;\n  }\n\n  addLocalChat(from: string, text: string) {\n    const chat = {\n      id: Math.random(),\n      time: Date.now(),\n      isMine: true,\n      from,\n      text,\n    };\n    this.chats.push(chat);\n    // this triggers reaction to send chat for remotes\n    this.myLastChat = chat;\n  }\n\n  addRemoteChat(chat: RoomChat) {\n    chat.isMine = false;\n    this.chats.push(chat);\n  }\n\n  addLocalSubtitle(subtitle: RoomSubtitle) {\n    this.subtitles.push(subtitle);\n    this.myLastSubtitle = subtitle;\n  }\n\n  addRemoteSubtitle(subtitle: RoomSubtitle) {\n    this.subtitles.push(subtitle);\n  }\n\n  addReaction(from: string, reaction: string) {\n    // this triggers reaction to send reaction for remotes\n    this.myLastReaction = { from, reaction };\n  }\n\n  removeStream(peerId: string) {\n    this.streams.delete(peerId);\n    this.stats.delete(peerId);\n    if (this.pinnedId === peerId) {\n      this.pinnedId = null;\n    }\n  }\n\n  getPeerConnection(): RTCPeerConnection | null {\n    if (this.mode !== \"sfu\") {\n      return null;\n    }\n    if (this.room === null) {\n      return null;\n    }\n\n    return getPeerConnectionFromSfuRoom(this.room as SfuRoom);\n  }\n\n  cleanUp() {\n    if (this.room === null) {\n      throw new Error(\"Room is null!\");\n    }\n\n    [...this.streams.values()].forEach((stream) =>\n      stream.getTracks().forEach((track) => track.stop())\n    );\n    this.streams.clear();\n    this.stats.clear();\n    this.chats.length = 0;\n    this.myLastChat = null;\n    this.room = null;\n  }\n}\ndecorate(RoomStore, {\n  peer: observable.ref,\n  isReady: observable,\n  room: observable.ref,\n  mode: observable,\n  id: observable,\n  streams: observable.shallow,\n  stats: observable.shallow,\n  chats: observable.shallow,\n  subtitles: observable.shallow,\n  myLastChat: observable.ref,\n  myLastSubtitle: observable.ref,\n  myLastReaction: observable.ref,\n  pinnedId: observable,\n  castRequestCount: observable,\n  rtcStats: observable.ref,\n  name: computed,\n  isJoined: computed,\n  pinnedStream: computed,\n  load: action,\n  addLocalChat: action,\n  addRemoteChat: action,\n  addLocalSubtitle: action,\n  addRemoteSubtitle: action,\n  removeStream: action,\n  getPeerConnection: action,\n  cleanUp: action,\n});\n\nexport default RoomStore;\n","import { decorate, observable, action } from \"mobx\";\nimport { IObservableArray } from \"mobx\";\nimport { NotificationItem, NotificationType } from \"../utils/types\";\n\nclass NotificationStore {\n  items: IObservableArray<NotificationItem>;\n\n  constructor() {\n    // @ts-ignore: to type IObservableArray\n    this.items = [];\n  }\n\n  showInfo(text: string) {\n    this.show(\"info\", text, 1000);\n  }\n\n  showChat(from: string, text: string) {\n    this.show(\"chat\", `${from}: ${text}`, 6000);\n  }\n\n  showReaction(from: string, reaction: string) {\n    this.show(\"insert_emoticon\", `${from}: ${reaction}`, 3000);\n  }\n\n  showJoin(name: string) {\n    this.show(\"person\", `${name} joined`, 2000);\n  }\n\n  showLeave(name: string) {\n    this.show(\"person\", `${name} left`, 2000);\n  }\n\n  private show(type: NotificationType, text: string, duration: number) {\n    const item: NotificationItem = { id: Math.random(), type, text };\n    this.items.push(item);\n    setTimeout(() => this.items.remove(item), duration);\n  }\n}\n\n// @ts-ignore: to use private accessor\ndecorate(NotificationStore, {\n  items: observable.shallow,\n  showInfo: action,\n  showChat: action,\n  showReaction: action,\n  showJoin: action,\n  showLeave: action,\n  show: action,\n});\n\nexport default NotificationStore;\n","import { decorate, observable } from \"mobx\";\n\nclass SubtitleStore {\n  isAudioTrackMuted: boolean;\n\n  constructor() {\n    this.isAudioTrackMuted = false;\n  }\n\n  toggleMuted() {\n    this.isAudioTrackMuted = !this.isAudioTrackMuted;\n  }\n}\n\n// @ts-ignore: to use private accessor\ndecorate(SubtitleStore, {\n  isAudioTrackMuted: observable,\n});\n\nexport default SubtitleStore;\n","import { createContext } from \"react\";\nimport RootStore from \"./stores\";\n\nconst rootStore = new RootStore();\n// @ts-ignore: for debug\nwindow.store = rootStore;\n\nexport const StoreContext = createContext(rootStore);\n","import UiStore from \"./ui\";\nimport ClientStore from \"./client\";\nimport MediaStore from \"./media\";\nimport RoomStore from \"./room\";\nimport NotificationStore from \"./notification\";\nimport SubtitleStore from \"./subtitle\";\n\nclass RootStore {\n  ui: UiStore;\n  client: ClientStore;\n  media: MediaStore;\n  room: RoomStore;\n  notification: NotificationStore;\n  subtitle: SubtitleStore;\n\n  constructor() {\n    this.ui = new UiStore();\n    this.client = new ClientStore();\n    this.media = new MediaStore();\n    this.room = new RoomStore();\n    this.notification = new NotificationStore();\n    this.subtitle = new SubtitleStore();\n  }\n}\n\nexport default RootStore;\n","import { serializeStyles } from '@emotion/serialize';\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nexport default css;\n","/* eslint-disable */\n// murmurhash2 via https://github.com/garycourt/murmurhash-js/blob/master/murmurhash2_gc.js\nfunction murmurhash2_32_gc(str) {\n  var l = str.length,\n      h = l ^ l,\n      i = 0,\n      k;\n\n  while (l >= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n    k ^= k >>> 24;\n    k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n    h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16) ^ k;\n    l -= 4;\n    ++i;\n  }\n\n  switch (l) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n  }\n\n  h ^= h >>> 13;\n  h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n  h ^= h >>> 15;\n  return (h >>> 0).toString(36);\n}\n\nexport default murmurhash2_32_gc;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\nvar UNDEFINED_AS_OBJECT_KEY_ERROR = \"You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).\";\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  var contentValuePattern = /(attr|calc|counters?|url)\\(/;\n  var contentValues = ['normal', 'none', 'counter', 'open-quote', 'close-quote', 'no-open-quote', 'no-close-quote', 'initial', 'inherit', 'unset'];\n  var oldProcessStyleValue = processStyleValue;\n  var msPattern = /^-ms-/;\n  var hyphenPattern = /-(.)/g;\n  var hyphenatedCache = {};\n\n  processStyleValue = function processStyleValue(key, value) {\n    if (key === 'content') {\n      if (typeof value !== 'string' || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '\"' && value.charAt(0) !== \"'\")) {\n        console.error(\"You seem to be using a value for 'content' without quotes, try replacing it with `content: '\\\"\" + value + \"\\\"'`\");\n      }\n    }\n\n    var processed = oldProcessStyleValue(key, value);\n\n    if (processed !== '' && !isCustomProperty(key) && key.indexOf('-') !== -1 && hyphenatedCache[key] === undefined) {\n      hyphenatedCache[key] = true;\n      console.error(\"Using kebab-case for css properties in objects is not supported. Did you mean \" + key.replace(msPattern, 'ms-').replace(hyphenPattern, function (str, _char) {\n        return _char.toUpperCase();\n      }) + \"?\");\n    }\n\n    return processed;\n  };\n}\n\nvar shouldWarnAboutInterpolatingClassNameFromCss = true;\n\nfunction handleInterpolation(mergedProps, registered, interpolation, couldBeSelectorInterpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  if (interpolation.__emotion_styles !== undefined) {\n    if (process.env.NODE_ENV !== 'production' && interpolation.toString() === 'NO_COMPONENT_SELECTOR') {\n      throw new Error('Component selectors can only be used in conjunction with babel-plugin-emotion.');\n    }\n\n    return interpolation;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        if (interpolation.anim === 1) {\n          cursor = {\n            name: interpolation.name,\n            styles: interpolation.styles,\n            next: cursor\n          };\n          return interpolation.name;\n        }\n\n        if (interpolation.styles !== undefined) {\n          var next = interpolation.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = interpolation.styles + \";\";\n\n          if (process.env.NODE_ENV !== 'production' && interpolation.map !== undefined) {\n            styles += interpolation.map;\n          }\n\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result, couldBeSelectorInterpolation);\n        } else if (process.env.NODE_ENV !== 'production') {\n          console.error('Functions that are interpolated in css calls will be stringified.\\n' + 'If you want to have a css call based on props, create a function that returns a css call like this\\n' + 'let dynamicStyle = (props) => css`color: ${props.color}`\\n' + 'It can be called directly with props or interpolated in a styled call like this\\n' + \"let SomeComponent = styled('div')`${dynamicStyle}`\");\n        }\n\n        break;\n      }\n\n    case 'string':\n      if (process.env.NODE_ENV !== 'production') {\n        var matched = [];\n        var replaced = interpolation.replace(animationRegex, function (match, p1, p2) {\n          var fakeVarName = \"animation\" + matched.length;\n          matched.push(\"const \" + fakeVarName + \" = keyframes`\" + p2.replace(/^@keyframes animation-\\w+/, '') + \"`\");\n          return \"${\" + fakeVarName + \"}\";\n        });\n\n        if (matched.length) {\n          console.error('`keyframes` output got interpolated into plain string, please wrap it with `css`.\\n\\n' + 'Instead of doing this:\\n\\n' + [].concat(matched, [\"`\" + replaced + \"`\"]).join('\\n') + '\\n\\nYou should wrap it with `css` like this:\\n\\n' + (\"css`\" + replaced + \"`\"));\n        }\n      }\n\n      break;\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  if (registered == null) {\n    return interpolation;\n  }\n\n  var cached = registered[interpolation];\n\n  if (process.env.NODE_ENV !== 'production' && couldBeSelectorInterpolation && shouldWarnAboutInterpolatingClassNameFromCss && cached !== undefined) {\n    console.error('Interpolating a className from css`` is not recommended and will cause problems with composition.\\n' + 'Interpolating a className from css`` will be completely unsupported in a future major version of Emotion');\n    shouldWarnAboutInterpolatingClassNameFromCss = false;\n  }\n\n  return cached !== undefined && !couldBeSelectorInterpolation ? cached : interpolation;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i], false);\n    }\n  } else {\n    for (var _key in obj) {\n      var value = obj[_key];\n\n      if (typeof value !== 'object') {\n        if (registered != null && registered[value] !== undefined) {\n          string += _key + \"{\" + registered[value] + \"}\";\n        } else if (isProcessableValue(value)) {\n          string += processStyleName(_key) + \":\" + processStyleValue(_key, value) + \";\";\n        }\n      } else {\n        if (_key === 'NO_COMPONENT_SELECTOR' && process.env.NODE_ENV !== 'production') {\n          throw new Error('Component selectors can only be used in conjunction with babel-plugin-emotion.');\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(_key) + \":\" + processStyleValue(_key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value, false);\n\n          switch (_key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(_key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n                if (process.env.NODE_ENV !== 'production' && _key === 'undefined') {\n                  console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);\n                }\n\n                string += _key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;\\n{]+)\\s*;/g;\nvar sourceMapPattern;\n\nif (process.env.NODE_ENV !== 'production') {\n  sourceMapPattern = /\\/\\*#\\ssourceMappingURL=data:application\\/json;\\S+\\s+\\*\\//;\n} // this is the cursor for keyframes\n// keyframes are stored on the SerializedStyles object as a linked list\n\n\nvar cursor;\nvar serializeStyles = function serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings, false);\n  } else {\n    if (process.env.NODE_ENV !== 'production' && strings[0] === undefined) {\n      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n    }\n\n    styles += strings[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i], styles.charCodeAt(styles.length - 1) === 46);\n\n    if (stringMode) {\n      if (process.env.NODE_ENV !== 'production' && strings[i] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles += strings[i];\n    }\n  }\n\n  var sourceMap;\n\n  if (process.env.NODE_ENV !== 'production') {\n    styles = styles.replace(sourceMapPattern, function (match) {\n      sourceMap = match;\n      return '';\n    });\n  } // using a global regex with .exec is stateful so lastIndex has to be reset each time\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + // $FlowFixMe we know it's not null\n    match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe SerializedStyles type doesn't have toString property (and we don't want to add it)\n    return {\n      name: name,\n      styles: styles,\n      map: sourceMap,\n      next: cursor,\n      toString: function toString() {\n        return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n      }\n    };\n  }\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n};\n\nexport { serializeStyles };\n","export const isValidRoomType = (type: string): boolean => {\n  if (type === \"sfu\" || type === \"mesh\") {\n    return true;\n  }\n  return false;\n};\n\nexport const maxRoomIdLength = 16;\nexport const roomIdRe = \"^[0-9a-z_-]{4,16}$\";\nexport const isValidRoomId = (name: string): boolean => {\n  return new RegExp(roomIdRe).test(name);\n};\n","/*\n\nBased off glamor's StyleSheet, thanks Sunil \n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n// $FlowFixMe\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    // $FlowFixMe\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      // $FlowFixMe\n      return document.styleSheets[i];\n    }\n  }\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  return tag;\n}\n\nvar StyleSheet =\n/*#__PURE__*/\nfunction () {\n  function StyleSheet(options) {\n    this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === 'production' : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      var _tag = createStyleElement(this);\n\n      var before;\n\n      if (this.tags.length === 0) {\n        before = this.before;\n      } else {\n        before = this.tags[this.tags.length - 1].nextSibling;\n      }\n\n      this.container.insertBefore(_tag, before);\n      this.tags.push(_tag);\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is a really hot path\n        // we check the second character first because having \"i\"\n        // as the second character will happen less often than\n        // having \"@\" as the first character\n        var isImportRule = rule.charCodeAt(1) === 105 && rule.charCodeAt(0) === 64; // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n\n        sheet.insertRule(rule, // we need to insert @import rules before anything else\n        // otherwise there will be an error\n        // technically this means that the @import rules will\n        // _usually_(not always since there could be multiple style tags)\n        // be the first ones in prod and generally later in dev\n        // this shouldn't really matter in the real world though\n        // @import is generally only used for font faces from google fonts and etc.\n        // so while this could be technically correct then it would be slower and larger\n        // for a tiny bit of correctness that won't matter in the real world\n        isImportRule ? 0 : sheet.cssRules.length);\n      } catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(\"There was a problem inserting the following rule: \\\"\" + rule + \"\\\"\", e);\n        }\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    // $FlowFixMe\n    this.tags.forEach(function (tag) {\n      return tag.parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","var isBrowser = \"object\" !== 'undefined';\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className]);\n    } else {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false && cache.compat !== undefined) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      var maybeStyles = cache.insert(\".\" + className, current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles };\n","import Peer, { SfuRoom } from \"skyway-js\";\n\nexport const initPeer = (forceTurn: boolean): Promise<Peer> => {\n  return new Promise((resolve, reject) => {\n    const peer = new Peer({\n      key: \"725b7ef3-cd3d-4032-b019-00fc43b6639f\",\n      debug: 2,\n      config: {\n        iceTransportPolicy: forceTurn ? \"relay\" : \"all\",\n      },\n    });\n\n    peer.once(\"open\", () => {\n      peer.removeListener(\"error\", reject);\n      resolve(peer);\n    });\n    // for onOpen error\n    peer.once(\"error\", reject);\n  });\n};\n\nexport const getPeerConnectionFromSfuRoom = (\n  room: SfuRoom\n): RTCPeerConnection => {\n  // @ts-ignore: to get private refs\n  return room._negotiator._pc;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=Z;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};\nexports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","import { StyleSheet } from '@emotion/sheet';\nimport Stylis from '@emotion/stylis';\nimport '@emotion/weak-memoize';\n\n// https://github.com/thysultan/stylis.js/tree/master/plugins/rule-sheet\n// inlined to avoid umd wrapper and peerDep warnings/installing stylis\n// since we use stylis after closure compiler\nvar delimiter = '/*|*/';\nvar needle = delimiter + '}';\n\nfunction toSheet(block) {\n  if (block) {\n    Sheet.current.insert(block + '}');\n  }\n}\n\nvar Sheet = {\n  current: null\n};\nvar ruleSheet = function ruleSheet(context, content, selectors, parents, line, column, length, ns, depth, at) {\n  switch (context) {\n    // property\n    case 1:\n      {\n        switch (content.charCodeAt(0)) {\n          case 64:\n            {\n              // @import\n              Sheet.current.insert(content + ';');\n              return '';\n            }\n          // charcode for l\n\n          case 108:\n            {\n              // charcode for b\n              // this ignores label\n              if (content.charCodeAt(2) === 98) {\n                return '';\n              }\n            }\n        }\n\n        break;\n      }\n    // selector\n\n    case 2:\n      {\n        if (ns === 0) return content + delimiter;\n        break;\n      }\n    // at-rule\n\n    case 3:\n      {\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            {\n              Sheet.current.insert(selectors[0] + content);\n              return '';\n            }\n\n          default:\n            {\n              return content + (at === 0 ? delimiter : '');\n            }\n        }\n      }\n\n    case -2:\n      {\n        content.split(needle).forEach(toSheet);\n      }\n  }\n};\n\nvar createCache = function createCache(options) {\n  if (options === undefined) options = {};\n  var key = options.key || 'css';\n  var stylisOptions;\n\n  if (options.prefix !== undefined) {\n    stylisOptions = {\n      prefix: options.prefix\n    };\n  }\n\n  var stylis = new Stylis(stylisOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe\n    if (/[^a-z-]/.test(key)) {\n      throw new Error(\"Emotion key must only contain lower case alphabetical characters and - but \\\"\" + key + \"\\\" was passed\");\n    }\n  }\n\n  var inserted = {}; // $FlowFixMe\n\n  var container;\n\n  {\n    container = options.container || document.head;\n    var nodes = document.querySelectorAll(\"style[data-emotion-\" + key + \"]\");\n    Array.prototype.forEach.call(nodes, function (node) {\n      var attrib = node.getAttribute(\"data-emotion-\" + key); // $FlowFixMe\n\n      attrib.split(' ').forEach(function (id) {\n        inserted[id] = true;\n      });\n\n      if (node.parentNode !== container) {\n        container.appendChild(node);\n      }\n    });\n  }\n\n  var _insert;\n\n  {\n    stylis.use(options.stylisPlugins)(ruleSheet);\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      var name = serialized.name;\n      Sheet.current = sheet;\n\n      if (process.env.NODE_ENV !== 'production' && serialized.map !== undefined) {\n        var map = serialized.map;\n        Sheet.current = {\n          insert: function insert(rule) {\n            sheet.insert(rule + map);\n          }\n        };\n      }\n\n      stylis(selector, serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[name] = true;\n      }\n    };\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    // https://esbench.com/bench/5bf7371a4cd7e6009ef61d0a\n    var commentStart = /\\/\\*/g;\n    var commentEnd = /\\*\\//g;\n    stylis.use(function (context, content) {\n      switch (context) {\n        case -1:\n          {\n            while (commentStart.test(content)) {\n              commentEnd.lastIndex = commentStart.lastIndex;\n\n              if (commentEnd.test(content)) {\n                commentStart.lastIndex = commentEnd.lastIndex;\n                continue;\n              }\n\n              throw new Error('Your styles have an unterminated comment (\"/*\" without corresponding \"*/\").');\n            }\n\n            commentStart.lastIndex = 0;\n            break;\n          }\n      }\n    });\n    stylis.use(function (context, content, selectors) {\n      switch (context) {\n        case -1:\n          {\n            var flag = 'emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';\n            var unsafePseudoClasses = content.match(/(:first|:nth|:nth-last)-child/g);\n\n            if (unsafePseudoClasses && cache.compat !== true) {\n              unsafePseudoClasses.forEach(function (unsafePseudoClass) {\n                var ignoreRegExp = new RegExp(unsafePseudoClass + \".*\\\\/\\\\* \" + flag + \" \\\\*\\\\/\");\n                var ignore = ignoreRegExp.test(content);\n\n                if (unsafePseudoClass && !ignore) {\n                  console.error(\"The pseudo class \\\"\" + unsafePseudoClass + \"\\\" is potentially unsafe when doing server-side rendering. Try changing it to \\\"\" + unsafePseudoClass.split('-child')[0] + \"-of-type\\\".\");\n                }\n              });\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  return cache;\n};\n\nexport default createCache;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*\r\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\r\non @visionmedia's Emitter from UI Kit.\r\n\r\nWhy? I wanted it standalone.\r\n\r\nI also wanted support for wildcard emitters like this:\r\n\r\nemitter.on('*', function (eventName, other, event, payloads) {\r\n\r\n});\r\n\r\nemitter.on('somenamespace*', function (eventName, payloads) {\r\n\r\n});\r\n\r\nPlease note that callbacks triggered by wildcard registered events also get\r\nthe event name as the first argument.\r\n*/\r\n\r\nmodule.exports = WildEmitter;\r\n\r\nfunction WildEmitter() { }\r\n\r\nWildEmitter.mixin = function (constructor) {\r\n    var prototype = constructor.prototype || constructor;\r\n\r\n    prototype.isWildEmitter= true;\r\n\r\n    // Listen on the given `event` with `fn`. Store a group name if present.\r\n    prototype.on = function (event, groupName, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        func._groupName = group;\r\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\r\n        return this;\r\n    };\r\n\r\n    // Adds an `event` listener that will be invoked a single\r\n    // time then automatically removed.\r\n    prototype.once = function (event, groupName, fn) {\r\n        var self = this,\r\n            hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        function on() {\r\n            self.off(event, on);\r\n            func.apply(this, arguments);\r\n        }\r\n        this.on(event, group, on);\r\n        return this;\r\n    };\r\n\r\n    // Unbinds an entire group\r\n    prototype.releaseGroup = function (groupName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item, i, len, handlers;\r\n        for (item in this.callbacks) {\r\n            handlers = this.callbacks[item];\r\n            for (i = 0, len = handlers.length; i < len; i++) {\r\n                if (handlers[i]._groupName === groupName) {\r\n                    //console.log('removing');\r\n                    // remove it and shorten the array we're looping through\r\n                    handlers.splice(i, 1);\r\n                    i--;\r\n                    len--;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Remove the given callback for `event` or all\r\n    // registered callbacks.\r\n    prototype.off = function (event, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var callbacks = this.callbacks[event],\r\n            i;\r\n\r\n        if (!callbacks) return this;\r\n\r\n        // remove all handlers\r\n        if (arguments.length === 1) {\r\n            delete this.callbacks[event];\r\n            return this;\r\n        }\r\n\r\n        // remove specific handler\r\n        i = callbacks.indexOf(fn);\r\n        callbacks.splice(i, 1);\r\n        if (callbacks.length === 0) {\r\n            delete this.callbacks[event];\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /// Emit `event` with the given args.\r\n    // also calls any `*` handlers\r\n    prototype.emit = function (event) {\r\n        this.callbacks = this.callbacks || {};\r\n        var args = [].slice.call(arguments, 1),\r\n            callbacks = this.callbacks[event],\r\n            specialCallbacks = this.getWildcardCallbacks(event),\r\n            i,\r\n            len,\r\n            item,\r\n            listeners;\r\n\r\n        if (callbacks) {\r\n            listeners = callbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, args);\r\n            }\r\n        }\r\n\r\n        if (specialCallbacks) {\r\n            len = specialCallbacks.length;\r\n            listeners = specialCallbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, [event].concat(args));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Helper for for finding special wildcard event handlers that match the event\r\n    prototype.getWildcardCallbacks = function (eventName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item,\r\n            split,\r\n            result = [];\r\n\r\n        for (item in this.callbacks) {\r\n            split = item.split('*');\r\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\r\n                result = result.concat(this.callbacks[item]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n};\r\n\r\nWildEmitter.mixin(WildEmitter);\r\n","import { UserDevices } from \"./types\";\n\nexport const getUserDevices = async (\n  options: MediaStreamConstraints\n): Promise<UserDevices> => {\n  const devices = (await navigator.mediaDevices.enumerateDevices()) || [];\n\n  const videoInDevices = [];\n  const audioInDevices = [];\n\n  for (const device of devices) {\n    if (device.kind === \"videoinput\") {\n      videoInDevices.push(device);\n    }\n    if (device.kind === \"audioinput\") {\n      audioInDevices.push(device);\n    }\n  }\n\n  const ret: UserDevices = {\n    videoInDevices: null,\n    audioInDevices: null,\n  };\n\n  if (options.video) {\n    ret.videoInDevices = videoInDevices;\n  }\n  if (options.audio) {\n    ret.audioInDevices = audioInDevices;\n  }\n\n  return ret;\n};\n\nexport const getUserAudioTrack = async (\n  deviceId: string\n): Promise<MediaStreamTrack> => {\n  const constraints =\n    deviceId === \"\" ? true : { deviceId: { exact: deviceId } };\n\n  return navigator.mediaDevices\n    .getUserMedia({ audio: constraints })\n    .then((stream) => stream.getAudioTracks()[0]);\n};\n\nexport const getUserVideoTrack = async (\n  deviceId: string\n): Promise<MediaStreamTrack> => {\n  const constraints =\n    deviceId === \"\" ? true : { deviceId: { exact: deviceId } };\n\n  return navigator.mediaDevices\n    .getUserMedia({ video: constraints })\n    .then((stream) => stream.getVideoTracks()[0]);\n};\n\nexport const getDisplayVideoTrack = async (): Promise<MediaStreamTrack> => {\n  return navigator.mediaDevices\n    .getDisplayMedia({ video: true })\n    .then((stream) => stream.getVideoTracks()[0]);\n};\n","import { EffectCallback } from \"react\";\nimport { toJS, reaction, observe } from \"mobx\";\nimport debug from \"debug\";\nimport {\n  isValidRoomId,\n  isValidRoomType,\n  roomIdRe,\n} from \"../../shared/validate\";\nimport { getUserDevices, getUserAudioTrack } from \"../utils/webrtc\";\nimport { initPeer } from \"../utils/skyway\";\nimport { RoomInit } from \"../utils/types\";\nimport RootStore from \"../stores\";\n\nconst log = debug(\"effect:bootstrap\");\n\nexport const checkRoomSetting = ({\n  ui,\n  room,\n}: RootStore): EffectCallback => () => {\n  log(\"checkRoomSetting()\");\n  const [, roomType, roomId] = location.hash.split(\"/\");\n  const params = new URLSearchParams(location.search);\n\n  if (!isValidRoomType(roomType)) {\n    throw ui.showError(\n      new Error(\"Invalid room type! it should be `sfu` or `mesh`.\")\n    );\n  }\n  if (!isValidRoomId(roomId)) {\n    throw ui.showError(\n      new Error(\n        `Invalid room name! it should be match \\`${roomIdRe.toString()}\\`.`\n      )\n    );\n  }\n\n  (async () => {\n    const peer = await initPeer(params.has(\"turn\")).catch((err) => {\n      throw ui.showError(err);\n    });\n    // just log it, do not trust them\n    peer.on(\"error\", console.error);\n    room.load(\n      {\n        mode: roomType as RoomInit[\"mode\"],\n        id: roomId,\n        useH264: params.has(\"h264\"),\n      },\n      peer\n    );\n\n    log(`room: ${roomType}/${roomId}`);\n    log(\"peer instance created\");\n  })();\n};\n\nexport const initAudioDeviceAndClient = ({\n  ui,\n  client,\n  media,\n}: RootStore): EffectCallback => () => {\n  log(\"ensureAudioDevice()\");\n\n  (async () => {\n    // check at least audio input exists\n    const { videoInDevices, audioInDevices } = await getUserDevices({\n      video: true,\n      audio: true,\n    }).catch((err) => {\n      throw ui.showError(err);\n    });\n\n    // must not be happened\n    if (videoInDevices === null) {\n      throw ui.showError(new Error(\"getUserDevices() returns null\"));\n    }\n    if (audioInDevices === null) {\n      throw ui.showError(new Error(\"getUserDevices() returns null\"));\n    }\n    if (audioInDevices.length === 0) {\n      throw ui.showError(new Error(\"At least one audio input device needed!\"));\n    }\n\n    log(\n      \"%s audio + %s video builtin devices are found\",\n      audioInDevices.length,\n      videoInDevices.length\n    );\n\n    // keep audio track\n    const [{ deviceId }] = audioInDevices;\n    const audioTrack = await getUserAudioTrack(deviceId).catch((err) => {\n      throw ui.showError(err);\n    });\n    media.setAudioTrack(audioTrack, deviceId);\n\n    // and get valid labels...\n    const devices = await getUserDevices({ audio: true }).catch((err) => {\n      throw ui.showError(err);\n    });\n    media.setAudioDevices(devices);\n    log(\"audio devices\", devices.audioInDevices);\n\n    // load client\n    client.load({\n      ua: navigator.userAgent,\n      hasUserVideoDevice: videoInDevices.length !== 0,\n      hasGetDisplayMedia:\n        typeof navigator.mediaDevices.getDisplayMedia === \"function\",\n      name: (localStorage.getItem(\"SkyWayConf.dispName\") || \"\").trim(),\n    });\n    log(\"client loaded\", toJS(client));\n  })();\n};\n\nexport const listenStoreChanges = ({\n  client,\n  media,\n  room,\n  notification,\n}: RootStore): EffectCallback => () => {\n  log(\"listenStoreChanges()\");\n\n  const disposers = [\n    reaction(\n      () => room.isJoined,\n      (isJoined) =>\n        isJoined && notification.showInfo(`You joined the room ${room.name}`)\n    ),\n    reaction(\n      () => media.isAudioTrackMuted,\n      (muted) =>\n        notification.showInfo(`Mic input was ${muted ? \"muted\" : \"unmuted\"}`)\n    ),\n    reaction(\n      () => media.isVideoTrackMuted,\n      (muted) =>\n        notification.showInfo(`Video was ${muted ? \"muted\" : \"unmuted\"}`)\n    ),\n    observe(media, \"audioDeviceId\", (change) => {\n      if (change.oldValue === null) {\n        // skip initial value\n        return;\n      }\n      notification.showInfo(\"Mic input was changed\");\n    }),\n    observe(media, \"videoDeviceId\", (change) => {\n      if (change.oldValue === null) {\n        notification.showInfo(\"Video input was enabled\");\n        return;\n      }\n      if (change.newValue !== null) {\n        notification.showInfo(\"Video input was changed\");\n      } else {\n        notification.showInfo(\"Video input was disabled\");\n      }\n    }),\n    reaction(\n      () => room.castRequestCount,\n      () => notification.showInfo(\"Your video was casted to everyone\")\n    ),\n    reaction(\n      () => room.myLastReaction,\n      (reaction) =>\n        reaction &&\n        notification.showInfo(`You reacted with ${reaction.reaction}`)\n    ),\n    reaction(\n      () => client.displayName,\n      (name) => {\n        localStorage.setItem(\"SkyWayConf.dispName\", name.trim());\n        notification.showInfo(\"Display name saved\");\n      },\n      { delay: 2000 }\n    ),\n  ];\n\n  return () => disposers.forEach((d) => d());\n};\n\nexport const listenGlobalEvents = ({\n  media,\n  ui,\n}: RootStore): EffectCallback => () => {\n  log(\"listenGlobalEvents()\");\n\n  const reloadOnHashChange = () => location.reload(true);\n  const reloadOnDeviceAddOrRemoved = async () => {\n    log(\"devicechange event fired\");\n    const { audioInDevices, videoInDevices } = await getUserDevices({\n      video: true,\n      audio: true,\n    }).catch((err) => {\n      throw ui.showError(err);\n    });\n\n    // must not be happened\n    if (audioInDevices === null || videoInDevices === null) {\n      throw ui.showError(new Error(\"getUserDevices() returns null\"));\n    }\n\n    const curAudioInDevices = media.audioInDevices;\n    const curVideoInDevices = media.videoInDevices;\n\n    // Safari fires this event on updating label(num of devices are not changed)\n    if (\n      curAudioInDevices.length &&\n      audioInDevices.length !== curAudioInDevices.length\n    ) {\n      location.reload(true);\n    }\n    if (\n      curVideoInDevices.length &&\n      videoInDevices.length !== curVideoInDevices.length\n    ) {\n      location.reload(true);\n    }\n  };\n\n  window.addEventListener(\"hashchange\", reloadOnHashChange, false);\n  navigator.mediaDevices.addEventListener(\n    \"devicechange\",\n    reloadOnDeviceAddOrRemoved,\n    false\n  );\n\n  return () => {\n    log(\"listener removed\");\n    window.removeEventListener(\"hashchange\", reloadOnHashChange);\n    navigator.mediaDevices.removeEventListener(\n      \"devicechange\",\n      reloadOnDeviceAddOrRemoved\n    );\n  };\n};\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\n\ninterface Props {\n  error: Error;\n}\nconst Error: FunctionComponent<Props> = ({ error }) => (\n  <div css={wrapperStyle}>\n    <h2 css={headStyle}>{error.message || error.name}</h2>\n    <pre css={detailStyle}>\n      {error.stack || \"Stack trace is not available.\"}\n    </pre>\n  </div>\n);\n\nexport default Error;\n\nconst wrapperStyle = css({\n  color: globalColors.white,\n  margin: 16,\n});\n\nconst headStyle = css({\n  fontWeight: 900,\n});\n\nconst detailStyle = css({\n  whiteSpace: \"pre-wrap\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\n\nconst Loader: FunctionComponent<{}> = () => (\n  <img css={wrapperStyle} src=\"./images/conf/icon-loading.svg\" />\n);\n\nexport default Loader;\n\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  margin: \"auto\",\n  width: 160,\n});\n","import * as React from \"react\";\nimport { useContext, useEffect } from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport {\n  checkRoomSetting,\n  initAudioDeviceAndClient,\n  listenStoreChanges,\n  listenGlobalEvents,\n} from \"../effects/bootstrap\";\nimport ErrorDetail from \"../components/error-detail\";\nimport Loader from \"../components/loader\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst Bootstrap: FunctionComponent<Props> = ({ children }: Props) => {\n  const store = useContext(StoreContext);\n\n  useEffect(checkRoomSetting(store), [store]);\n  useEffect(initAudioDeviceAndClient(store), [store]);\n  useEffect(listenStoreChanges(store), [store]);\n  useEffect(listenGlobalEvents(store), [store]);\n\n  const { ui, client, room, media } = store;\n  return (\n    <Observer>\n      {() => {\n        if (ui.error !== null) {\n          return <ErrorDetail error={ui.error} />;\n        }\n\n        if (!(client.isReady && room.isReady && media.isAudioEnabled)) {\n          return <Loader />;\n        }\n\n        return <>{children}</>;\n      }}\n    </Observer>\n  );\n};\n\nexport default Bootstrap;\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css, keyframes } from \"@emotion/core\";\nimport { zIndex } from \"../utils/style\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst Modal: FunctionComponent<Props> = ({ children }: Props) => (\n  <div css={wrapperStyle}>{children}</div>\n);\n\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  zIndex: zIndex.modal,\n  overflow: \"auto\",\n  backgroundColor: \"rgba(0, 0, 0, .8)\",\n  willChange: \"opacity\",\n  animation: `${keyframes`from { opacity: 0; } to { opacity: 1; }`} .4s ease`,\n});\n\nexport default Modal;\n","import * as React from \"react\";\nimport { useRef, useEffect, memo } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport debug from \"debug\";\nimport { css } from \"@emotion/core\";\n\nconst _log = debug(\"component:video\");\n\ninterface Props {\n  stream: MediaStream;\n  isReverse?: boolean;\n  isVideoOnly?: boolean;\n}\nconst Video: FunctionComponent<Props> = ({\n  stream,\n  isReverse = false,\n  isVideoOnly = false,\n}) => {\n  const isNoAudio = stream.getAudioTracks().length === 0;\n  const isNoVideo = stream.getVideoTracks().length === 0;\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const log = _log.extend(stream.id);\n\n  useEffect(() => {\n    const $video = videoRef.current;\n    if (isNoVideo || $video === null) {\n      return;\n    }\n\n    log(\"useEffect(): assign and play stream for video\");\n    $video.srcObject !== stream && ($video.srcObject = stream);\n    $video.paused && $video.play();\n  }, [isNoVideo, videoRef, log, stream]);\n  useEffect(() => {\n    const $audio = audioRef.current;\n    if (isNoAudio || isVideoOnly || $audio === null) {\n      return;\n    }\n\n    log(\"useEffect(): assign and play stream for audio\");\n    $audio.srcObject !== stream && ($audio.srcObject = stream);\n    $audio.paused && $audio.play();\n  }, [isNoAudio, isVideoOnly, audioRef, log, stream]);\n\n  log(\"render()\", [...stream.getTracks()]);\n  return (\n    <>\n      {isNoVideo ? null : (\n        <video\n          css={isReverse ? [videoStyle, reverseVideoStyle] : videoStyle}\n          ref={videoRef}\n          playsInline\n          muted={true}\n        />\n      )}\n      {isVideoOnly || isNoAudio ? null : (\n        <audio css={audioStyle} ref={audioRef} />\n      )}\n    </>\n  );\n};\n\nexport default memo(Video);\n\nconst audioStyle = css({\n  display: \"none\",\n});\n\nconst videoStyle = css({\n  width: \"100%\",\n  height: \"100%\",\n  maxWidth: \"100%\",\n  maxHeight: \"100%\",\n  pointerEvents: \"none\",\n});\n\nconst reverseVideoStyle = css({\n  transform: \"scaleX(-1)\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\n\ninterface Props {\n  label: string;\n  children: ReactNode;\n}\nexport const SettingsItemDevice: FunctionComponent<Props> = ({\n  label,\n  children,\n}: Props) => (\n  <div css={[wrapperStyle, deviceStyle]}>\n    <div css={labelStyle}>{label}</div>\n    {children}\n  </div>\n);\n\nexport const SettingsItemName: FunctionComponent<Props> = ({\n  label,\n  children,\n}: Props) => (\n  <div css={[wrapperStyle, nameStyle]}>\n    <div css={labelStyle}>{label}</div>\n    <div>{children}</div>\n  </div>\n);\n\nconst wrapperStyle = css({\n  margin: \"8px auto\",\n});\n\nconst deviceStyle = css({\n  display: \"grid\",\n  gridTemplateColumns: \"80px 72px 1fr\",\n  gridGap: 8,\n  alignItems: \"center\",\n});\n\nconst nameStyle = css({\n  display: \"grid\",\n  gridTemplateColumns: \"80px 1fr\",\n  gridGap: 8,\n  alignItems: \"center\",\n});\n\nconst labelStyle = css({\n  textAlign: \"center\",\n});\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\n\ninterface Props {\n  defaultDispName: string;\n  isInvalid: boolean;\n  onChangeDispName: (name: string) => void;\n}\nconst SettingsNameEdit: FunctionComponent<Props> = ({\n  defaultDispName,\n  isInvalid,\n  onChangeDispName,\n}: Props) => {\n  const [dispName, setDispName] = useState(defaultDispName);\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={dispName}\n        maxLength={10}\n        placeholder=\"Enter your name\"\n        onChange={(ev) => {\n          // ignore while IME compositing\n          if (ev.target.value.length > 10) {\n            return;\n          }\n          const name = ev.target.value;\n          setDispName(name);\n          onChangeDispName(name);\n        }}\n        css={isInvalid ? [nameStyle, invalidStyle] : nameStyle}\n      />\n    </div>\n  );\n};\n\nexport default SettingsNameEdit;\n\nconst nameStyle = css({\n  boxSizing: \"border-box\",\n  width: \"100%\",\n  padding: \"4px 8px\",\n  appearance: \"none\",\n  border: 0,\n  borderBottom: `1px solid ${globalColors.gray}`,\n  fontSize: \"1.1rem\",\n  \"&:focus\": {\n    borderColor: globalColors.blue,\n  },\n});\n\nconst invalidStyle = css({\n  borderColor: globalColors.red,\n});\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\n\ninterface Props {\n  deviceId: string;\n  inDevices: MediaDeviceInfo[];\n  onChangeDeviceId: (deviceId: string) => void;\n}\nexport const SettingsDeviceSelector: FunctionComponent<Props> = ({\n  deviceId,\n  inDevices,\n  onChangeDeviceId,\n}: Props) => (\n  <select\n    value={deviceId || \"\"}\n    onChange={(ev) => onChangeDeviceId(ev.target.value)}\n    css={formStyle}\n  >\n    {inDevices.map((device) => (\n      <option key={device.deviceId} value={device.deviceId}>\n        {device.label}\n      </option>\n    ))}\n  </select>\n);\n\ninterface TogglerProps {\n  label: string;\n  disabled?: boolean;\n  onClick?: () => void;\n}\nexport const SettingsDeviceToggler: FunctionComponent<TogglerProps> = ({\n  label,\n  disabled,\n  onClick,\n}: TogglerProps) => (\n  <button css={formStyle} disabled={disabled ? true : false} onClick={onClick}>\n    {label}\n  </button>\n);\n\nconst formStyle = css({\n  boxSizing: \"border-box\",\n  width: \"100%\",\n  height: \"100%\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { ClientBrowser } from \"../utils/types\";\nimport { BrowserIcon } from \"./icon\";\n\ninterface Props {\n  displayName: string;\n  browser: ClientBrowser;\n  controllers: ReactNode;\n}\nconst StreamController: FunctionComponent<Props> = ({\n  displayName,\n  browser,\n  controllers,\n}: Props) => (\n  <div css={wrapperStyle}>\n    <div css={rowStyle}>\n      <BrowserIcon {...browser} />\n      &nbsp;\n      {displayName}\n    </div>\n    <div css={rowStyle}>{controllers}</div>\n  </div>\n);\n\nexport default StreamController;\n\nconst wrapperStyle = css({\n  display: \"grid\",\n  gridTemplateColumns: \"1fr auto\",\n  padding: 4,\n  color: globalColors.white,\n  backgroundColor: \"rgba(0, 0, 0, .5)\",\n  fontSize: \".8rem\",\n});\n\nconst rowStyle = css({\n  display: \"inline-flex\",\n  alignItems: \"center\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { VideoType, ClientBrowser } from \"../utils/types\";\nimport { modalContentWidth } from \"../utils/style\";\nimport Modal from \"./modal\";\nimport Video from \"./video\";\nimport { IconButton, Icon } from \"./icon\";\nimport { SettingsItemName, SettingsItemDevice } from \"./settings-item\";\nimport SettingsNameEdit from \"./settings-name-edit\";\nimport {\n  SettingsDeviceSelector,\n  SettingsDeviceToggler,\n} from \"./settings-device-selector\";\nimport StreamController from \"./stream-controller\";\n\ninterface Props {\n  stream: MediaStream;\n  defaultDispName: string;\n  browser: ClientBrowser;\n  hasGetDisplayMedia: boolean;\n  hasUserVideoDevice: boolean;\n  videoType: VideoType;\n  isVideoTrackMuted: boolean;\n  isAudioTrackMuted: boolean;\n  videoDeviceId: string;\n  audioDeviceId: string;\n  videoInDevices: MediaDeviceInfo[];\n  audioInDevices: MediaDeviceInfo[];\n  isReEntering: boolean;\n  isJoined: boolean;\n  isDisplayNameValid: boolean;\n  onChangeVideoDeviceId: (deviceId: string) => void;\n  onChangeAudioDeviceId: (deviceId: string) => void;\n  onClickToggleVideoMuted: () => void;\n  onClickToggleAudioMuted: () => void;\n  onClickEnableUserVideo: () => void;\n  onClickDisableUserVideo: () => void;\n  onClickEnableDisplayVideo: () => void;\n  onClickDisableDisplayVideo: () => void;\n  onChangeDispName: (name: string) => void;\n  onClickCloseSettings: () => void;\n  onClickJoinConference: () => void;\n}\nconst SettingsLayout: FunctionComponent<Props> = ({\n  stream,\n  defaultDispName,\n  browser,\n  hasGetDisplayMedia,\n  hasUserVideoDevice,\n  videoType,\n  isVideoTrackMuted,\n  isAudioTrackMuted,\n  videoDeviceId,\n  audioDeviceId,\n  videoInDevices,\n  audioInDevices,\n  isReEntering,\n  isJoined,\n  isDisplayNameValid,\n  onChangeVideoDeviceId,\n  onChangeAudioDeviceId,\n  onClickToggleVideoMuted,\n  onClickToggleAudioMuted,\n  onClickEnableUserVideo,\n  onClickDisableUserVideo,\n  onClickEnableDisplayVideo,\n  onClickDisableDisplayVideo,\n  onChangeDispName,\n  onClickCloseSettings,\n  onClickJoinConference,\n}: Props) => (\n  <Modal>\n    <div css={wrapperStyle}>\n      <div css={videoStyle}>\n        <Video\n          stream={stream}\n          isReverse={videoType === \"camera\"}\n          isVideoOnly={true}\n        />\n        <div css={controllerStyle}>\n          <StreamController\n            displayName={`v${browser.version}`}\n            browser={browser}\n            controllers={\n              <>\n                {videoType === null ? null : (\n                  <IconButton\n                    name={isVideoTrackMuted ? \"videocam_off\" : \"videocam\"}\n                    title={isVideoTrackMuted ? \"Unmute video\" : \"Mute video\"}\n                    onClick={onClickToggleVideoMuted}\n                  />\n                )}\n                <IconButton\n                  name={isAudioTrackMuted ? \"mic_off\" : \"mic\"}\n                  title={isAudioTrackMuted ? \"Unmute audio\" : \"Mute audio\"}\n                  onClick={onClickToggleAudioMuted}\n                />\n              </>\n            }\n          />\n        </div>\n      </div>\n\n      <div css={settingsStyle}>\n        <SettingsItemName label=\"NAME\">\n          <SettingsNameEdit\n            defaultDispName={defaultDispName}\n            isInvalid={!isDisplayNameValid}\n            onChangeDispName={onChangeDispName}\n          />\n        </SettingsItemName>\n        <SettingsItemDevice label=\"MIC.\">\n          <SettingsDeviceToggler label=\"Disable\" disabled={true} />\n          <SettingsDeviceSelector\n            deviceId={audioDeviceId || \"\"}\n            inDevices={audioInDevices}\n            onChangeDeviceId={onChangeAudioDeviceId}\n          />\n        </SettingsItemDevice>\n        {hasUserVideoDevice ? (\n          <SettingsItemDevice label=\"CAMERA\">\n            {videoType === \"camera\" ? (\n              <>\n                <SettingsDeviceToggler\n                  label=\"Disable\"\n                  onClick={onClickDisableUserVideo}\n                />\n                <SettingsDeviceSelector\n                  deviceId={videoDeviceId || \"\"}\n                  inDevices={videoInDevices}\n                  onChangeDeviceId={onChangeVideoDeviceId}\n                />\n              </>\n            ) : (\n              <SettingsDeviceToggler\n                label=\"Enable\"\n                onClick={onClickEnableUserVideo}\n              />\n            )}\n          </SettingsItemDevice>\n        ) : null}\n        {hasGetDisplayMedia ? (\n          <SettingsItemDevice label=\"DISPLAY\">\n            {videoType === \"display\" ? (\n              <>\n                <SettingsDeviceToggler\n                  label=\"Disable\"\n                  onClick={onClickDisableDisplayVideo}\n                />\n                <SettingsDeviceToggler\n                  label=\"Use another dispaly\"\n                  onClick={onClickEnableDisplayVideo}\n                />\n              </>\n            ) : (\n              <SettingsDeviceToggler\n                label=\"Enable\"\n                onClick={onClickEnableDisplayVideo}\n              />\n            )}\n          </SettingsItemDevice>\n        ) : null}\n      </div>\n\n      <div css={buttonWrapStyle}>\n        <button\n          css={doneButtonStyle}\n          onClick={isJoined ? onClickCloseSettings : onClickJoinConference}\n          disabled={isReEntering || !isDisplayNameValid}\n        >\n          {isReEntering ? (\n            \"RE-ENTERING THE ROOM\"\n          ) : (\n            <>\n              <Icon name={isJoined ? \"done\" : \"meeting_room\"} />\n              <span>{isJoined ? \"CLOSE SETTINGS\" : \"ENTER THIS ROOM\"}</span>\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  </Modal>\n);\n\nexport default SettingsLayout;\n\nconst wrapperStyle = css({\n  width: modalContentWidth,\n  margin: \"32px auto 0\",\n  boxSizing: \"border-box\",\n  backgroundColor: globalColors.white,\n});\n\nconst videoStyle = css({\n  position: \"relative\",\n  width: \"100%\",\n  height: (modalContentWidth / 4) * 3,\n  backgroundColor: globalColors.black,\n});\n\nconst controllerStyle = css({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  bottom: 0,\n  zIndex: 1,\n});\n\nconst settingsStyle = css({\n  margin: 16,\n});\n\nconst buttonWrapStyle = css({\n  padding: 16,\n  textAlign: \"center\",\n});\n\nconst doneButtonStyle = css({\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  backgroundColor: globalColors.blue,\n  color: globalColors.white,\n  height: 40,\n  border: 0,\n  cursor: \"pointer\",\n  padding: \"0 24px\",\n  fontSize: \"1.2rem\",\n  borderRadius: 2,\n  \"&:disabled\": {\n    cursor: \"not-allowed\",\n    backgroundColor: globalColors.gray,\n  },\n});\n","import debug from \"debug\";\nimport { reaction, observe } from \"mobx\";\nimport { MeshRoom, SfuRoom, RoomStream } from \"skyway-js\";\nimport {\n  RoomData,\n  RoomStat,\n  RoomChat,\n  RoomReaction,\n  RoomCast,\n  RoomSubtitle,\n} from \"../utils/types\";\nimport RootStore from \"../stores\";\n\nconst log = debug(\"effect:room\");\n\nexport const joinRoom = (store: RootStore) => {\n  log(\"joinRoom()\");\n  const { room, ui, media, client, notification } = store;\n\n  if (room.name === null || room.mode === null) {\n    throw ui.showError(new Error(\"Room name or mode is undefined!\"));\n  }\n  if (room.peer === null) {\n    throw ui.showError(new Error(\"Peer is not created!\"));\n  }\n\n  const roomOptions = {\n    mode: room.mode,\n    stream: media.stream,\n    // this app requires audio, but video is optional\n    videoReceiveEnabled: true,\n  };\n  if (room.useH264) {\n    Object.assign(roomOptions, { videoCodec: \"H264\" });\n  }\n\n  if (room.mode === \"mesh\") {\n    room.room = room.peer.joinRoom<MeshRoom>(room.name, roomOptions);\n  } else if (room.mode === \"sfu\") {\n    room.room = room.peer.joinRoom<SfuRoom>(room.name, roomOptions);\n  }\n\n  const confRoom = room.room;\n  // must not be happened\n  if (confRoom === null) {\n    throw ui.showError(new Error(\"Room is null!\"));\n  }\n\n  log(\"joined room\", confRoom);\n  log(\"w/ options:\", roomOptions);\n\n  // force set to false\n  ui.isReEntering = false;\n\n  const disposers = [\n    reaction(\n      () => ({ ...media.stat, ...client.stat }),\n      (stat) => {\n        log(\"reaction:send(stat)\");\n        confRoom.send({ type: \"stat\", payload: stat });\n      }\n    ),\n    reaction(\n      () => room.myLastChat,\n      (chat) => {\n        if (chat === null) {\n          return;\n        }\n        log(\"reaction:send(chat)\");\n        confRoom.send({ type: \"chat\", payload: chat });\n      }\n    ),\n    reaction(\n      () => room.myLastSubtitle,\n      (subtitle) => {\n        if (subtitle === null) {\n          return;\n        }\n        log(\"reaction:send(subtitle)\");\n        confRoom.send({ type: \"subtitle\", payload: subtitle });\n      }\n    ),\n    reaction(\n      () => room.myLastReaction,\n      (reaction) => {\n        if (reaction === null) {\n          return;\n        }\n        log(\"reaction:send(reaction)\");\n        confRoom.send({ type: \"reaction\", payload: reaction });\n      }\n    ),\n    reaction(\n      () => room.castRequestCount,\n      () => {\n        log(\"reaction:send(cast)\");\n        confRoom.send({ type: \"cast\", payload: { from: client.displayName } });\n      }\n    ),\n    observe(media, \"videoDeviceId\", (change) => {\n      log(\"observe(media.videoDeviceId)\");\n      if (!room.isJoined) {\n        log(\"do nothing before room join\");\n        return;\n      }\n\n      // camera OR display was changed, not need to re-enter\n      if (change.oldValue !== null && change.newValue !== null) {\n        log(\"just change video by replaceStream(), no need to re-enter\");\n        confRoom.replaceStream(media.stream);\n        return;\n      }\n\n      // camera OR display was enabled, need to re-enter\n      // camera OR display was disabled, need to re-enter\n      log(\"need to re-enter the room to add/remove video\");\n      if (room.room === null) {\n        throw ui.showError(new Error(\"Room is null!\"));\n      }\n      // force close the room, triggers re-entering\n      ui.isReEntering = true;\n      room.room.close();\n      notification.showInfo(\"Re-enter the room to add/remove video\");\n    }),\n  ];\n\n  confRoom.on(\"stream\", (stream: RoomStream) => {\n    log(\"on('stream')\", stream);\n    room.streams.set(stream.peerId, stream);\n\n    // send back stat as welcome message\n    confRoom.send({\n      type: \"stat\",\n      payload: { ...client.stat, ...media.stat },\n    });\n  });\n\n  confRoom.on(\"peerLeave\", (peerId: string) => {\n    log(\"on('peerLeave')\", peerId);\n\n    const stat = room.stats.get(peerId);\n    if (stat) {\n      notification.showLeave(stat.displayName);\n    }\n    room.removeStream(peerId);\n  });\n\n  confRoom.on(\"data\", ({ src, data }) => {\n    const { type, payload }: RoomData = data;\n\n    switch (type) {\n      case \"stat\": {\n        const stat = payload as RoomStat;\n        log(\"on('data/stat')\", stat);\n\n        // undefined means first time = just joined\n        if (!room.stats.get(src)) {\n          notification.showJoin(stat.displayName);\n        }\n        room.stats.set(src, stat);\n        break;\n      }\n      case \"chat\": {\n        const chat = payload as RoomChat;\n        log(\"on('data/chat')\", chat);\n\n        // notify only when chat is closed\n        ui.isChatOpen || notification.showChat(chat.from, chat.text);\n        room.addRemoteChat(chat);\n        break;\n      }\n      case \"subtitle\": {\n        const data = payload as RoomSubtitle;\n        room.addRemoteSubtitle(data);\n        break;\n      }\n      case \"reaction\": {\n        const reaction = payload as RoomReaction;\n        notification.showReaction(reaction.from, reaction.reaction);\n        break;\n      }\n      case \"cast\": {\n        const cast = payload as RoomCast;\n        log(\"on('data/cast')\", cast);\n        room.pinnedId = src;\n        notification.showInfo(`Video was casted by ${cast.from}`);\n        break;\n      }\n      default: {\n        log(`on('data/unknown') discard...`);\n      }\n    }\n  });\n\n  confRoom.once(\"close\", () => {\n    log(\"on('close')\");\n    notification.showInfo(\"room closed! trying re-connect..\");\n\n    disposers.forEach((d) => d());\n\n    try {\n      confRoom.removeAllListeners();\n      room.cleanUp();\n    } catch (err) {\n      throw ui.showError(err);\n    }\n\n    // re-enter the same room automatically but with delay to ensure leave -> join\n    setTimeout(() => joinRoom(store), 500);\n  });\n};\n","import debug from \"debug\";\nimport RootStore from \"../stores\";\nimport {\n  getUserDevices,\n  getUserVideoTrack,\n  getUserAudioTrack,\n  getDisplayVideoTrack,\n} from \"../utils/webrtc\";\nimport { joinRoom } from \"./room\";\n\nconst log = debug(\"effect:settings\");\n\nexport const changeDispName = ({ client }: RootStore) => (name: string) => {\n  log(\"changeDispName()\", `${client.displayName} => ${name}`);\n  client.displayName = name;\n};\n\nexport const enableUserVideo = ({ media, ui }: RootStore) => async () => {\n  log(\"enableUserVideo()\");\n\n  const { videoInDevices } = await getUserDevices({ video: true }).catch(\n    (err) => {\n      throw ui.showError(err);\n    }\n  );\n\n  // must not be happened\n  if (videoInDevices === null) {\n    throw ui.showError(new Error(\"getUserDevices() returns null\"));\n  }\n  // must not be happened\n  if (videoInDevices.length === 0) {\n    throw ui.showError(new Error(\"At leaset one video input device needed!\"));\n  }\n\n  // keep video track\n  const [{ deviceId }] = videoInDevices;\n  const videoTrack = await getUserVideoTrack(deviceId).catch((err) => {\n    throw ui.showError(err);\n  });\n\n  media.releaseVideoDevice();\n  // may trigger replaceStream()\n  media.setVideoTrack(videoTrack, \"camera\", deviceId);\n\n  // and get valid labels...\n  const devices = await getUserDevices({ video: true }).catch((err) => {\n    throw ui.showError(err);\n  });\n  media.setVideoDevices(devices);\n\n  log(\"video devices\", devices.videoInDevices);\n};\n\nexport const enableDisplayVideo = (store: RootStore) => async () => {\n  log(\"enableDisplayVideo()\");\n  const { media, ui, notification } = store;\n\n  const videoTrack = await getDisplayVideoTrack().catch((err) => {\n    if (err.name === \"NotAllowedError\") {\n      // cancelled or not supported\n    } else {\n      throw ui.showError(err);\n    }\n  });\n\n  if (!(videoTrack instanceof MediaStreamTrack)) {\n    notification.showInfo(\"Display selection was cancelled\");\n    notification.showInfo(\"Or your device does not support display sharing\");\n    log(\"selection was cancelled or not supported\");\n    return;\n  }\n\n  videoTrack.addEventListener(\"ended\", disableDisplayVideo(store), {\n    once: true,\n  });\n\n  media.releaseVideoDevice();\n  // may trigger replaceStream()\n  media.setVideoTrack(videoTrack, \"display\", videoTrack.label);\n};\n\nexport const disableUserVideo = ({ media }: RootStore) => () => {\n  log(\"disableUserVideo()\");\n  media.deleteVideoTrack();\n};\n\nexport const disableDisplayVideo = ({ media }: RootStore) => () => {\n  log(\"disableDisplayVideo()\");\n  media.deleteVideoTrack();\n};\n\nexport const changeAudioDeviceId = ({ media, ui }: RootStore) => async (\n  deviceId: string\n) => {\n  log(\"changeAudioDeviceId\", deviceId);\n\n  media.releaseAudioDevice();\n  const audioTrack = await getUserAudioTrack(deviceId).catch((err) => {\n    throw ui.showError(err);\n  });\n  media.setAudioTrack(audioTrack, deviceId);\n};\nexport const changeVideoDeviceId = ({ media, ui }: RootStore) => async (\n  deviceId: string\n) => {\n  log(\"changeVideoDeviceId\", deviceId);\n\n  // release current device first\n  media.releaseVideoDevice();\n  // then get another device, otherwise some Android will crash\n  const videoTrack = await getUserVideoTrack(deviceId).catch((err) => {\n    throw ui.showError(err);\n  });\n  media.setVideoTrack(videoTrack, \"camera\", deviceId);\n};\n\nexport const toggleAudioMuted = ({ media }: RootStore) => () => {\n  log(\"toggleAudioMuted()\");\n  media.toggleMuted(\"audio\");\n};\n\nexport const toggleVideoMuted = ({ media }: RootStore) => () => {\n  log(\"toggleVideoMuted()\");\n  media.toggleMuted(\"video\");\n};\n\nexport const closeSettings = ({ ui }: RootStore) => () => {\n  log(\"closeSettings()\");\n  ui.isSettingsOpen = false;\n};\n\nexport const joinConference = (store: RootStore) => () => {\n  log(\"joinConference()\");\n  const { ui, room } = store;\n\n  // must not be happened\n  if (room.isJoined) {\n    throw ui.showError(new Error(\"Already in the room!\"));\n  }\n\n  joinRoom(store);\n  ui.isSettingsOpen = false;\n};\n","import * as React from \"react\";\nimport { useContext, useCallback } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport SettingsLayout from \"../components/settings-layout\";\nimport {\n  changeDispName,\n  enableUserVideo,\n  disableUserVideo,\n  enableDisplayVideo,\n  disableDisplayVideo,\n  changeVideoDeviceId,\n  changeAudioDeviceId,\n  closeSettings,\n  joinConference,\n  toggleVideoMuted,\n  toggleAudioMuted,\n} from \"../effects/settings\";\n\nconst Settings: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onChangeDispName = useCallback(changeDispName(store), [store]);\n  const onClickEnableUserVideo = useCallback(enableUserVideo(store), [store]);\n  const onClickDisableUserVideo = useCallback(disableUserVideo(store), [store]);\n  const onClickEnableDisplayVideo = useCallback(enableDisplayVideo(store), [\n    store,\n  ]);\n  const onClickDisableDisplayVideo = useCallback(disableDisplayVideo(store), [\n    store,\n  ]);\n  const onChangeVideoDeviceId = useCallback(changeVideoDeviceId(store), [\n    store,\n  ]);\n  const onChangeAudioDeviceId = useCallback(changeAudioDeviceId(store), [\n    store,\n  ]);\n  const onClickJoinConference = useCallback(joinConference(store), [store]);\n  const onClickCloseSettings = useCallback(closeSettings(store), [store]);\n  const onClickToggleAudioMuted = useCallback(toggleAudioMuted(store), [store]);\n  const onClickToggleVideoMuted = useCallback(toggleVideoMuted(store), [store]);\n\n  const { ui, media, room, client } = store;\n  return (\n    <Observer>\n      {() => {\n        if (!ui.isSettingsOpen) {\n          return <></>;\n        }\n\n        return (\n          <SettingsLayout\n            stream={media.stream}\n            defaultDispName={client.displayName}\n            browser={client.browser}\n            hasGetDisplayMedia={client.hasGetDisplayMedia}\n            hasUserVideoDevice={client.hasUserVideoDevice}\n            onChangeDispName={onChangeDispName}\n            videoType={media.videoType}\n            onClickEnableUserVideo={onClickEnableUserVideo}\n            onClickDisableUserVideo={onClickDisableUserVideo}\n            onClickEnableDisplayVideo={onClickEnableDisplayVideo}\n            onClickDisableDisplayVideo={onClickDisableDisplayVideo}\n            videoDeviceId={media.videoDeviceId || \"\"}\n            audioDeviceId={media.audioDeviceId || \"\"}\n            videoInDevices={media.videoInDevices.slice()}\n            audioInDevices={media.audioInDevices.slice()}\n            onChangeVideoDeviceId={onChangeVideoDeviceId}\n            onChangeAudioDeviceId={onChangeAudioDeviceId}\n            isVideoTrackMuted={media.isVideoTrackMuted}\n            isAudioTrackMuted={media.isAudioTrackMuted}\n            onClickToggleVideoMuted={onClickToggleVideoMuted}\n            onClickToggleAudioMuted={onClickToggleAudioMuted}\n            isReEntering={ui.isReEntering}\n            isJoined={room.isJoined}\n            isDisplayNameValid={client.isDisplayNameValid}\n            onClickCloseSettings={onClickCloseSettings}\n            onClickJoinConference={onClickJoinConference}\n          />\n        );\n      }}\n    </Observer>\n  );\n};\n\nexport default Settings;\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { zIndex } from \"../utils/style\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst NotificationLayout: FunctionComponent<Props> = ({ children }: Props) => (\n  <div css={wrapperStyle}>{children}</div>\n);\n\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 8,\n  left: 8,\n  zIndex: zIndex.notification,\n});\n\nexport default NotificationLayout;\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css, keyframes } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { Icon } from \"./icon\";\n\ninterface Props {\n  type: string;\n  text: string;\n}\nconst Toast: FunctionComponent<Props> = ({ type, text }: Props) => (\n  <div css={wrapperStyle}>\n    <Icon name={type} />\n    <span css={textStyle}>{text}</span>\n  </div>\n);\n\nexport default Toast;\n\nconst wrapperStyle = css({\n  display: \"flex\",\n  alignItems: \"center\",\n  padding: \"4px 8px\",\n  marginBottom: 4,\n  fontSize: \".8rem\",\n  borderRadius: 2,\n  backgroundColor: globalColors.white,\n  willChange: \"transform\",\n  animation: `${keyframes`from { transform: translateX(-200%); }`} .2s ease`,\n});\n\nconst textStyle = css({\n  textIndent: 4,\n  width: 200,\n  overflow: \"hidden\",\n  whiteSpace: \"nowrap\",\n  textOverflow: \"ellipsis\",\n});\n","import * as React from \"react\";\nimport { useContext } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport NotificationLayout from \"../components/notification-layout\";\nimport Toast from \"../components/toast\";\n\nconst Notification: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const { notification } = store;\n  return (\n    <Observer>\n      {() => (\n        <NotificationLayout>\n          {notification.items.slice().map((item) => (\n            <Toast key={item.id} {...item} />\n          ))}\n        </NotificationLayout>\n      )}\n    </Observer>\n  );\n};\n\nexport default Notification;\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { RoomChat } from \"../utils/types\";\n\ninterface Props {\n  chat: RoomChat;\n}\nconst ChatMessage: FunctionComponent<Props> = ({ chat }: Props) => (\n  <div css={chat.isMine ? [wrapperStyle, mineStyle] : wrapperStyle}>\n    <div css={headStyle}>\n      {chat.from} at {new Date(chat.time).toLocaleTimeString()}\n    </div>\n    {chat.text}\n  </div>\n);\n\nexport default ChatMessage;\n\nconst wrapperStyle = css({\n  boxSizing: \"border-box\",\n  width: \"85%\",\n  padding: \"4px 8px\",\n  marginTop: 8,\n  marginBottom: 8,\n  wordBreak: \"break-word\",\n  borderRadius: 2,\n  border: `1px solid ${globalColors.gray}`,\n});\n\nconst mineStyle = css({\n  marginLeft: \"15%\",\n  backgroundColor: globalColors.gray,\n});\n\nconst headStyle = css({\n  fontSize: \".8rem\",\n});\n","import * as React from \"react\";\nimport { useState, useCallback, useRef, useEffect } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { RoomChat } from \"../utils/types\";\nimport { modalContentWidth } from \"../utils/style\";\nimport Modal from \"./modal\";\nimport { IconButton } from \"./icon\";\nimport ChatMessage from \"./chat-message\";\n\ninterface Props {\n  chats: RoomChat[];\n  onClickSend: (text: string) => void;\n  onClickCloser: () => void;\n}\nconst ChatLayout: FunctionComponent<Props> = ({\n  chats,\n  onClickCloser,\n  onClickSend,\n}: Props) => {\n  const [buffer, setBuffer] = useState(\"\");\n  const onSend = useCallback(() => {\n    onClickSend(buffer);\n    setBuffer(\"\");\n  }, [buffer, onClickSend]);\n\n  const scrollerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (scrollerRef.current === null) {\n      return;\n    }\n    const $scroller = scrollerRef.current;\n    $scroller.scrollTo({ top: $scroller.scrollHeight, behavior: \"smooth\" });\n  }, [chats, scrollerRef]);\n\n  return (\n    <Modal>\n      <div css={wrapperStyle}>\n        <div css={headStyle}>\n          <IconButton name=\"close\" onClick={onClickCloser} />\n        </div>\n        <div css={scrollerStyle} ref={scrollerRef}>\n          {chats.map((chat) => (\n            <ChatMessage key={chat.id} chat={chat} />\n          ))}\n        </div>\n        <div css={editorStyle}>\n          <input\n            type=\"text\"\n            value={buffer}\n            onChange={(ev) => setBuffer(ev.target.value)}\n            css={inputStyle}\n          />\n          <IconButton\n            name=\"send\"\n            disabled={buffer.length === 0}\n            onClick={onSend}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ChatLayout;\n\nconst wrapperStyle = css({\n  display: \"grid\",\n  gridTemplateRows: \"20px 1fr 20px\",\n  width: modalContentWidth,\n  height: \"80%\",\n  boxSizing: \"border-box\",\n  margin: \"32px auto 0\",\n  padding: 8,\n  backgroundColor: globalColors.white,\n});\n\nconst headStyle = css({\n  textAlign: \"right\",\n});\n\nconst scrollerStyle = css({\n  overflowY: \"scroll\",\n  overflowScrolling: \"touch\",\n});\n\nconst editorStyle = css({\n  display: \"flex\",\n  alignItems: \"center\",\n});\n\nconst inputStyle = css({\n  flex: \"1 1 auto\",\n  marginRight: 8,\n});\n","import debug from \"debug\";\nimport RootStore from \"../stores\";\nconst log = debug(\"effect:chat\");\n\nexport const openChat = ({ ui }: RootStore) => () => {\n  log(\"openChat()\");\n  ui.isChatOpen = true;\n};\n\nexport const closeChat = ({ ui }: RootStore) => () => {\n  log(\"closeChat()\");\n  ui.isChatOpen = false;\n};\n\nexport const sendChat = ({ room, client }: RootStore) => (text: string) => {\n  log(\"sendChat()\", text);\n  room.addLocalChat(client.displayName, text);\n};\n","import * as React from \"react\";\nimport { useContext, useCallback } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport { IconButton } from \"../components/icon\";\nimport ChatLayout from \"../components/chat-layout\";\nimport { openChat, closeChat, sendChat } from \"../effects/chat\";\n\nexport const ChatOpener: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickOpenChat = useCallback(openChat(store), [store]);\n\n  return (\n    <Observer>\n      {() => <IconButton name=\"chat\" onClick={onClickOpenChat} />}\n    </Observer>\n  );\n};\n\nexport const Chat: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickCloseChat = useCallback(closeChat(store), [store]);\n  const onClickSendChat = useCallback(sendChat(store), [store]);\n\n  const { ui, room } = store;\n  return (\n    <Observer>\n      {() => {\n        if (!ui.isChatOpen) {\n          return <></>;\n        }\n\n        return (\n          <ChatLayout\n            chats={[...room.chats]}\n            onClickCloser={onClickCloseChat}\n            onClickSend={onClickSendChat}\n          />\n        );\n      }}\n    </Observer>\n  );\n};\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport {\n  extractCandidatePairs,\n  extractOutboundRtps,\n  extractInboundRtps,\n} from \"../utils/stats\";\n\ninterface Props {\n  rtcStats: RTCStatsReport | null;\n}\nconst StatsSummary: FunctionComponent<Props> = ({ rtcStats }: Props) => {\n  const summarizedStats = rtcStats === null ? null : summarizeStats(rtcStats);\n\n  return (\n    <div css={wrapperStyle}>\n      <pre css={statsStyle}>\n        {summarizedStats === null ? \"Loading...\" : summarizedStats}\n      </pre>\n    </div>\n  );\n};\n\nexport default StatsSummary;\n\nconst summarizeStats = (stats: RTCStatsReport) => {\n  const candidatePairs = extractCandidatePairs(stats);\n  const { audioOutbounds, videoOutbounds } = extractOutboundRtps(stats);\n  const { audioInbounds, videoInbounds } = extractInboundRtps(stats);\n\n  return `\n# Active ICE candidate pairs\n${candidatePairs\n  .map(({ localCandidate, remoteCandidate }, idx) =>\n    `\n## Pair ${idx + 1}\n- local: ${localCandidate.type} ${localCandidate.protocol}://${\n      localCandidate.address\n    }:${localCandidate.port}\n- remote: ${remoteCandidate.type} ${remoteCandidate.protocol}://${\n      remoteCandidate.address\n    }:${remoteCandidate.port}\n`.trim()\n  )\n  .join(\"\\n\")\n  .trim()}\n\n# Outbounds(sent)\n- Audio: ${audioOutbounds.bytesSent} bytes(${\n    audioOutbounds.packetsSent\n  } packets)\n- Video: ${videoOutbounds.bytesSent} bytes(${\n    videoOutbounds.packetsSent\n  } packets)\n\n# Inbounds(received)\n## Total\n- ${audioInbounds.size} audio(s)\n  - ${audioInbounds.bytesReceived} bytes(${\n    audioInbounds.packetsReceived\n  } packets)\n  - PacketsLost: ${audioInbounds.packetsLost}\n- ${videoInbounds.size} video(s)\n  - ${videoInbounds.bytesReceived} bytes(${\n    videoInbounds.packetsReceived\n  } packets)\n  - PacketsLost: ${videoInbounds.packetsLost} / NACK: ${\n    videoInbounds.nackCount\n  } / FIR: ${videoInbounds.firCount} / PLI: ${videoInbounds.pliCount}\n\n## Details\n${audioInbounds.items\n  .map((item, idx) =>\n    `\n- Audio ${idx + 1}: ${item.ssrc}\n  - ${item.bytesReceived} bytes(${item.packetsReceived} packets)\n  - PacketsLost: ${item.packetsLost}\n`.trim()\n  )\n  .join(\"\\n\")\n  .trim()}\n${videoInbounds.items\n  .map((item, idx) =>\n    `\n- Video ${idx + 1}: ${item.ssrc}\n  - ${item.bytesReceived} bytes(${item.packetsReceived} packets)\n  - PacketsLost: ${item.packetsLost} / NACK: ${item.nackCount} / FIR: ${\n      item.firCount\n    } / PLI: ${item.pliCount}\n`.trim()\n  )\n  .join(\"\\n\")\n  .trim()}\n  `.trim();\n};\n\nconst wrapperStyle = css({\n  margin: 0,\n  padding: 4,\n  fontSize: \".8rem\",\n});\n\nconst statsStyle = css({\n  margin: 0,\n  whiteSpace: \"pre-wrap\",\n  wordBreak: \"break-all\",\n});\n","type MediaKind = \"audio\" | \"video\";\ninterface StatsItem {\n  [key: string]: number;\n}\n\nexport const extractCandidatePairs = (stats: RTCStatsReport) => {\n  const candidatePairs = [...stats.values()].filter(\n    (stat) => stat.type === \"candidate-pair\"\n  );\n  // find candidates using now\n  const selectedPairs = candidatePairs.filter((stat) => {\n    // Firefox only\n    if (\"selected\" in stat) return stat.selected && stat.nominated;\n    return stat.nominated;\n  });\n\n  return selectedPairs.map(({ localCandidateId, remoteCandidateId }) => {\n    const localReport = stats.get(localCandidateId);\n    const remoteReport = stats.get(remoteCandidateId);\n\n    // must not be happened\n    if (!localReport) {\n      console.warn(\"localCandidate not found!\");\n    }\n    if (!remoteReport) {\n      console.warn(\"remoteCandidate not found!\");\n    }\n\n    return {\n      localCandidate: localReport\n        ? {\n            address: localReport.address || localReport.ip, // Chrome\n            port: localReport.port,\n            protocol: localReport.protocol,\n            type: localReport.candidateType,\n          }\n        : {},\n      remoteCandidate: remoteReport\n        ? {\n            address: remoteReport.address || remoteReport.ip, // Chrome\n            port: remoteReport.port,\n            protocol: remoteReport.protocol,\n            type: remoteReport.candidateType,\n          }\n        : {},\n    };\n  });\n};\n\nexport const extractOutboundRtps = (stats: RTCStatsReport) => {\n  const outboundRtps = [...stats.values()].filter(\n    (stat) => stat.type === \"outbound-rtp\"\n  );\n  // this app allows only audio / video / audio+video, max outbounds is 2\n  if (outboundRtps.length > 2) {\n    console.warn(\"outbound-rtp reports are found more than 2!\");\n  }\n\n  const outbounds = {\n    video: {\n      bytesSent: 0,\n      packetsSent: 0,\n    },\n    audio: {\n      bytesSent: 0,\n      packetsSent: 0,\n    },\n  };\n  for (const stat of outboundRtps) {\n    const kind: MediaKind = stat.kind || stat.mediaType; // Safari\n    if (kind !== \"audio\" && kind !== \"video\") {\n      console.warn(`unknown outbound rtp kind: ${kind} found!`);\n      continue;\n    }\n\n    outbounds[kind].bytesSent += stat.bytesSent;\n    outbounds[kind].packetsSent += stat.packetsSent;\n  }\n\n  return {\n    audioOutbounds: outbounds.audio,\n    videoOutbounds: outbounds.video,\n  };\n};\n\nexport const extractInboundRtps = (stats: RTCStatsReport) => {\n  const inboundRtps = [...stats.values()].filter(\n    (stat) => stat.type === \"inbound-rtp\"\n  );\n\n  const videoInbounds = {\n    size: 0,\n    bytesReceived: 0,\n    packetsReceived: 0,\n    packetsLost: 0,\n    nackCount: 0,\n    firCount: 0,\n    pliCount: 0,\n    items: [] as StatsItem[],\n  };\n  const audioInbounds = {\n    size: 0,\n    bytesReceived: 0,\n    packetsReceived: 0,\n    packetsLost: 0,\n    items: [] as StatsItem[],\n  };\n\n  // each items\n  for (const stat of inboundRtps) {\n    const item: StatsItem = {\n      bytesReceived: stat.bytesReceived,\n      packetsReceived: stat.packetsReceived,\n      packetsLost: stat.packetsLost,\n      ssrc: stat.ssrc,\n    };\n\n    const kind: MediaKind = stat.kind || stat.mediaType; // Safari\n    if (kind !== \"audio\" && kind !== \"video\") {\n      console.warn(`unknown outbound rtp kind: ${kind} found!`);\n      continue;\n    }\n\n    if (kind === \"video\") {\n      // Firefox misses these counts for inactive media\n      item.nackCount = stat.nackCount || 0;\n      item.firCount = stat.firCount || 0;\n      item.pliCount = stat.pliCount || 0;\n      videoInbounds.items.push(item);\n    }\n    if (kind === \"audio\") {\n      audioInbounds.items.push(item);\n    }\n  }\n\n  // calc total\n  for (const item of videoInbounds.items) {\n    videoInbounds.size += 1;\n    videoInbounds.bytesReceived += item.bytesReceived;\n    videoInbounds.packetsReceived += item.packetsReceived;\n    videoInbounds.packetsLost += item.packetsLost;\n    videoInbounds.nackCount += item.nackCount;\n    videoInbounds.firCount += item.firCount;\n    videoInbounds.pliCount += item.pliCount;\n  }\n  for (const item of audioInbounds.items) {\n    audioInbounds.size += 1;\n    audioInbounds.bytesReceived += item.bytesReceived;\n    audioInbounds.packetsReceived += item.packetsReceived;\n    audioInbounds.packetsLost += item.packetsLost;\n  }\n\n  return {\n    videoInbounds,\n    audioInbounds,\n  };\n};\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\n\ninterface Props {\n  rtcStats: RTCStatsReport | null;\n}\nconst StatsDump: FunctionComponent<Props> = ({ rtcStats }: Props) => {\n  const [searchKey, setSearchKey] = useState(\"\");\n  const filteredStats =\n    rtcStats === null ? null : filterStats(rtcStats, searchKey.trim());\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        placeholder=\"filter stat reports\"\n        value={searchKey}\n        onChange={(ev) => setSearchKey(ev.target.value)}\n        css={inputStyle}\n      />\n      <pre css={statsStyle}>\n        {filteredStats === null\n          ? \"Loading...\"\n          : `${filteredStats.size} report(s) found.\\n${JSON.stringify(\n              filteredStats.reports,\n              null,\n              2\n            )}`}\n      </pre>\n    </>\n  );\n};\n\nexport default StatsDump;\n\nconst filterStats = (stats: RTCStatsReport, searchKey: string) => {\n  // stats not ready\n  if (stats.size === 0) {\n    return null;\n  }\n\n  let size = 0;\n  const res: { [key: string]: unknown } = {};\n  for (const [key, value] of stats) {\n    const index = JSON.stringify(value);\n    // empty string is treated as included\n    if (index.includes(searchKey)) {\n      res[key] = value;\n      size++;\n    }\n  }\n  return { reports: res, size };\n};\n\nconst inputStyle = css({\n  boxSizing: \"border-box\",\n  width: \"100%\",\n});\n\nconst statsStyle = css({\n  margin: 0,\n  padding: 4,\n  fontSize: \".8rem\",\n  whiteSpace: \"pre-wrap\",\n  wordBreak: \"break-all\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { modalContentWidth } from \"../utils/style\";\nimport Modal from \"./modal\";\nimport { IconButton } from \"./icon\";\nimport StatsSummary from \"./stats-summary\";\nimport StatsDump from \"./stats-dump\";\n\ninterface Props {\n  isSfu: boolean;\n  rtcStats: RTCStatsReport | null;\n  onClickCloser: () => void;\n}\nconst StatsLayout: FunctionComponent<Props> = ({\n  isSfu,\n  rtcStats,\n  onClickCloser,\n}: Props) => (\n  <Modal>\n    <div css={wrapperStyle}>\n      <div css={headStyle}>\n        <IconButton name=\"close\" onClick={onClickCloser} />\n      </div>\n      {isSfu ? (\n        <div css={scrollerStyle}>\n          <details open>\n            <summary>Stats summary</summary>\n            <StatsSummary rtcStats={rtcStats} />\n          </details>\n          <details>\n            <summary>Stats dump</summary>\n            <StatsDump rtcStats={rtcStats} />\n          </details>\n        </div>\n      ) : (\n        <div css={naStyle}>Stats view is not available in mesh room type.</div>\n      )}\n    </div>\n  </Modal>\n);\n\nexport default StatsLayout;\n\nconst wrapperStyle = css({\n  display: \"grid\",\n  gridTemplateRows: \"20px 1fr\",\n  width: modalContentWidth,\n  height: \"80%\",\n  boxSizing: \"border-box\",\n  margin: \"32px auto 0\",\n  padding: 8,\n  backgroundColor: globalColors.white,\n});\n\nconst headStyle = css({\n  textAlign: \"right\",\n});\n\nconst scrollerStyle = css({\n  boxSizing: \"border-box\",\n  overflow: \"hidden\",\n  overflowY: \"scroll\",\n  overflowScrolling: \"touch\",\n});\n\nconst naStyle = css({\n  textAlign: \"center\",\n});\n","import debug from \"debug\";\nimport { when } from \"mobx\";\nimport RootStore from \"../stores\";\n\nconst log = debug(\"effect:stats\");\n\nexport const openStats = ({ ui, room }: RootStore) => () => {\n  log(\"openStats()\");\n  ui.isStatsOpen = true;\n\n  // 1000ms is enough(same as chrome://webrtc-internals)\n  const timer = setInterval(async () => {\n    const pc = room.getPeerConnection();\n    if (pc === null) {\n      return;\n    }\n\n    pc.getStats()\n      .then((statsReport) => (room.rtcStats = statsReport))\n      .catch((err) => log(\"getStats() error\", err));\n  }, 1000);\n\n  // wait for closer\n  when(\n    () => !ui.isStatsOpen,\n    () => {\n      log(\"stop stats collector\");\n      clearInterval(timer);\n      room.rtcStats = null;\n    }\n  );\n};\n\nexport const closeStats = ({ ui }: RootStore) => () => {\n  log(\"closeStats()\");\n  ui.isStatsOpen = false;\n};\n","import * as React from \"react\";\nimport { useContext, useCallback } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport { IconButton } from \"../components/icon\";\nimport StatsLayout from \"../components/stats-layout\";\nimport { openStats, closeStats } from \"../effects/stats\";\n\nexport const StatsOpener: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickOpenStats = useCallback(openStats(store), [store]);\n\n  return (\n    <Observer>\n      {() => <IconButton name=\"assessment\" onClick={onClickOpenStats} />}\n    </Observer>\n  );\n};\n\nexport const Stats: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickCloseStats = useCallback(closeStats(store), [store]);\n\n  const { ui, room } = store;\n  return (\n    <Observer>\n      {() => {\n        if (!ui.isStatsOpen) {\n          return <></>;\n        }\n\n        return (\n          <StatsLayout\n            isSfu={room.mode === \"sfu\"}\n            rtcStats={room.rtcStats}\n            onClickCloser={onClickCloseStats}\n          />\n        );\n      }}\n    </Observer>\n  );\n};\n","import debug from \"debug\";\nconst log = debug(\"effect:exit\");\n\nexport const exitRoom = () => () => {\n  log(\"exitRoom()\");\n\n  const yes = confirm(\"Are you sure to exit?\");\n  if (!yes) {\n    log(\"canceled\");\n    return;\n  }\n\n  location.href = \"/index.html\";\n};\n","import * as React from \"react\";\nimport { useContext, useCallback } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport { IconButton } from \"../components/icon\";\nimport { exitRoom } from \"../effects/exit\";\n\nexport const ExitOpener: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickExitRoom = useCallback(exitRoom(), [store]);\n\n  return (\n    <Observer>\n      {() => <IconButton name=\"exit_to_app\" onClick={onClickExitRoom} />}\n    </Observer>\n  );\n};\n","import * as React from \"react\";\nimport { useContext } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport Video from \"../components/video\";\n\nconst PinnedStream: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const { room } = store;\n  return (\n    <Observer>\n      {() => {\n        if (room.pinnedStream === null) {\n          return <></>;\n        }\n\n        return <Video stream={room.pinnedStream} isVideoOnly={true} />;\n      }}\n    </Observer>\n  );\n};\n\nexport default PinnedStream;\n","import * as React from \"react\";\nimport { memo, useEffect, useState } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { ClientBrowser } from \"../utils/types\";\nimport { globalColors } from \"../../shared/global-style\";\n\ninterface Props {\n  stream: MediaStream;\n  browser: ClientBrowser;\n}\nconst StreamInfo: FunctionComponent<Props> = ({ stream, browser }) => {\n  const [info, setInfo] = useState({});\n  useEffect(() => {\n    let timer = 0;\n    const updateInfo = () => {\n      timer = requestAnimationFrame(updateInfo);\n\n      const [vTrack] = stream.getVideoTracks();\n      const [aTrack] = stream.getAudioTracks();\n      const vSettings = vTrack ? vTrack.getSettings() : {};\n\n      setInfo({\n        timestamp: Date.now(),\n        browserName: browser.name,\n        browserVersion: `v${browser.version}`,\n        streamId: stream.id,\n        video: vTrack\n          ? {\n              trackId: vTrack.id,\n              width: vSettings.width,\n              height: vSettings.height,\n              frameRate: vSettings.frameRate,\n            }\n          : {},\n        audio: aTrack\n          ? {\n              trackId: aTrack.id,\n            }\n          : {},\n      });\n    };\n    timer = requestAnimationFrame(updateInfo);\n\n    return () => cancelAnimationFrame(timer);\n  }, [stream, browser, setInfo]);\n\n  return <pre css={wrapperStyle}>{JSON.stringify(info, null, 2)}</pre>;\n};\n\nexport default memo(StreamInfo);\n\nconst wrapperStyle = css({\n  margin: 0,\n  padding: 4,\n  width: \"100%\",\n  height: \"100%\",\n  boxSizing: \"border-box\",\n  overflow: \"auto\",\n  overflowScrolling: \"touch\",\n  fontSize: \".8rem\",\n  backgroundColor: globalColors.black,\n  color: globalColors.white,\n});\n","import * as React from \"react\";\nimport { useState, useEffect, memo } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst hark = require(\"hark\") as Hark;\nimport { Hark } from \"../utils/types\";\nimport { globalColors } from \"../../shared/global-style\";\n\ninterface Props {\n  stream: MediaStream;\n}\nconst VADetector: FunctionComponent<Props> = ({ stream }) => {\n  const [decibel, setDecibel] = useState(-Infinity);\n  useEffect(() => {\n    // if audio source is changing\n    if (stream.getAudioTracks().length === 0) return;\n\n    const harker = hark(stream, { threshold: -75 });\n    // db: -100 ~ 0 (silent ~ loud)\n    harker.on(\"volume_change\", (db) => db !== -Infinity && setDecibel(db));\n\n    return () => harker.stop();\n  }, [stream]);\n\n  return <div style={decibelToStyle(decibel)} css={wrapperStyle} />;\n};\n\nexport default memo(VADetector);\n\nconst decibelToStyle = (db: number) => {\n  if (db === -Infinity) return {};\n\n  const audioLevel = db + 100; // 0 ~ 100\n  return {\n    height: audioLevel * 0.1, // 0 ~ 10px\n    opacity: audioLevel * 0.01, // 0 ~ 1\n  };\n};\n\nconst wrapperStyle = css({\n  backgroundColor: globalColors.blue,\n  willChange: [\"height\", \"opacity\"],\n});\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { ClientBrowser, VideoType } from \"../utils/types\";\nimport StreamController from \"./stream-controller\";\nimport Video from \"./video\";\nimport { IconButton } from \"./icon\";\nimport StreamInfo from \"./stream-info\";\nimport VADetector from \"./va-detector\";\n\ninterface Props {\n  stream: MediaStream;\n  displayName: string;\n  browser: ClientBrowser;\n  videoType: VideoType;\n  isVideoTrackMuted: boolean;\n  isAudioTrackMuted: boolean;\n  onClickToggleAudioMuted: () => void;\n  onClickToggleVideoMuted: () => void;\n  onClickCastVideo: () => void;\n  onClickOpenSettings: () => void;\n}\nconst LocalStreamLayout: FunctionComponent<Props> = ({\n  stream,\n  displayName,\n  browser,\n  videoType,\n  isVideoTrackMuted,\n  isAudioTrackMuted,\n  onClickToggleAudioMuted,\n  onClickToggleVideoMuted,\n  onClickCastVideo,\n  onClickOpenSettings,\n}: Props) => {\n  const [isMinimize, setMinimize] = useState(false);\n  const [isInfoShown, setInfoShown] = useState(false);\n\n  return (\n    <div css={isMinimize ? [wrapperStyle, minimizeStyle] : wrapperStyle}>\n      <div css={videoStyle}>\n        <Video\n          stream={stream}\n          isReverse={videoType === \"camera\"}\n          isVideoOnly={true}\n        />\n        <div css={actionStyle}>\n          {videoType === null ? null : (\n            <IconButton\n              name=\"cast\"\n              showEdge={true}\n              title=\"Cast your video\"\n              onClick={onClickCastVideo}\n            />\n          )}\n          <IconButton\n            name=\"info\"\n            showEdge={true}\n            title=\"Toggle stream info\"\n            onClick={() => setInfoShown(!isInfoShown)}\n          />\n          <IconButton\n            name=\"settings\"\n            showEdge={true}\n            title=\"Open settings\"\n            onClick={onClickOpenSettings}\n          />\n          {isMinimize ? (\n            <IconButton\n              name=\"keyboard_arrow_right\"\n              showEdge={true}\n              title=\"Maximize\"\n              onClick={() => setMinimize(false)}\n            />\n          ) : (\n            <IconButton\n              name=\"keyboard_arrow_left\"\n              showEdge={true}\n              title=\"Minimize\"\n              onClick={() => setMinimize(true)}\n            />\n          )}\n        </div>\n        {isInfoShown ? (\n          <div css={infoStyle}>\n            <StreamInfo stream={stream} browser={browser} />\n          </div>\n        ) : null}\n        <div css={controllerStyle}>\n          <VADetector stream={stream} />\n          <StreamController\n            displayName={displayName}\n            browser={browser}\n            controllers={\n              <>\n                {videoType === null ? null : (\n                  <IconButton\n                    name={isVideoTrackMuted ? \"videocam_off\" : \"videocam\"}\n                    title={isVideoTrackMuted ? \"Unmute video\" : \"Mute video\"}\n                    onClick={onClickToggleVideoMuted}\n                  />\n                )}\n                <IconButton\n                  name={isAudioTrackMuted ? \"mic_off\" : \"mic\"}\n                  title={isAudioTrackMuted ? \"Unmute audio\" : \"Mute audio\"}\n                  onClick={onClickToggleAudioMuted}\n                />\n              </>\n            }\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LocalStreamLayout;\n\nconst wrapperStyle = css({\n  outline: `1px solid ${globalColors.gray}`,\n  transition: \"all .2s ease\",\n  willChange: \"transform\",\n});\n\nconst minimizeStyle = css({\n  transform: \"translateX(-85%)\",\n});\n\nconst localStreamWidth = 240;\nconst videoStyle = css({\n  position: \"relative\",\n  width: localStreamWidth,\n  height: (localStreamWidth / 4) * 3,\n  backgroundColor: globalColors.black,\n});\n\nconst infoStyle = css({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  zIndex: 10,\n});\n\nconst controllerStyle = css({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  bottom: 0,\n  zIndex: 1,\n});\n\nconst actionStyle = css({\n  position: \"absolute\",\n  top: 4,\n  right: 4,\n  zIndex: 100,\n  display: \"flex\",\n  alignItems: \"center\",\n  color: globalColors.white,\n});\n","import debug from \"debug\";\nimport RootStore from \"../stores\";\nconst log = debug(\"effect:local-stream\");\n\nexport const castVideo = ({ room }: RootStore) => () => {\n  log(\"castVideo()\");\n  room.castRequestCount = room.castRequestCount + 1;\n};\n\nexport const openSettings = ({ ui }: RootStore) => () => {\n  log(\"openSettings()\");\n  ui.isSettingsOpen = true;\n};\n\nexport const toggleAudioMuted = ({ media }: RootStore) => () => {\n  log(\"toggleAudioMuted()\");\n  media.toggleMuted(\"audio\");\n};\n\nexport const toggleVideoMuted = ({ media }: RootStore) => () => {\n  log(\"toggleVideoMuted()\");\n  media.toggleMuted(\"video\");\n};\n","import * as React from \"react\";\nimport { useContext, useCallback } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport LocalStreamLayout from \"../components/local-stream-layout\";\nimport {\n  openSettings,\n  castVideo,\n  toggleAudioMuted,\n  toggleVideoMuted,\n} from \"../effects/local-stream\";\n\nconst LocalStream: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickCastVideo = useCallback(castVideo(store), [store]);\n  const onClickOpenSettings = useCallback(openSettings(store), [store]);\n  const onClickToggleAudioMuted = useCallback(toggleAudioMuted(store), [store]);\n  const onClickToggleVideoMuted = useCallback(toggleVideoMuted(store), [store]);\n\n  const { media, client, ui } = store;\n  return (\n    <Observer>\n      {() => {\n        if (ui.isSettingsOpen) {\n          return <></>;\n        }\n\n        return (\n          <LocalStreamLayout\n            stream={media.stream}\n            displayName={client.displayName}\n            browser={client.browser}\n            videoType={media.videoType}\n            isVideoTrackMuted={media.isVideoTrackMuted}\n            isAudioTrackMuted={media.isAudioTrackMuted}\n            onClickToggleAudioMuted={onClickToggleAudioMuted}\n            onClickToggleVideoMuted={onClickToggleVideoMuted}\n            onClickCastVideo={onClickCastVideo}\n            onClickOpenSettings={onClickOpenSettings}\n          />\n        );\n      }}\n    </Observer>\n  );\n};\n\nexport default LocalStream;\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { IconButton } from \"./icon\";\nimport VADetector from \"./va-detector\";\n\ninterface Props {\n  stream: MediaStream;\n  displayName: string;\n  isAudioTrackMuted: boolean;\n  onClickToggleAudioMuted: () => void;\n  onClickDownload: () => void;\n  progress: string;\n}\nconst RecognitionLayout: FunctionComponent<Props> = ({\n  stream,\n  isAudioTrackMuted,\n  onClickToggleAudioMuted,\n  onClickDownload,\n  progress,\n}: Props) => {\n  const [isMinimize, setMinimize] = useState(false);\n\n  return (\n    <div css={isMinimize ? [wrapperStyle, minimizeStyle] : wrapperStyle}>\n      <div css={videoStyle}>\n        <div style={{ color: \"white\", padding: 5, position: \"absolute\" }}>\n          speech recognition\n        </div>\n        <div css={actionStyle}>\n          <IconButton\n            name=\"cloud_download\"\n            showEdge={true}\n            title=\"download\"\n            onClick={onClickDownload}\n          />\n          {isMinimize ? (\n            <IconButton\n              name=\"keyboard_arrow_right\"\n              showEdge={true}\n              title=\"Maximize\"\n              onClick={() => setMinimize(false)}\n            />\n          ) : (\n            <IconButton\n              name=\"keyboard_arrow_left\"\n              showEdge={true}\n              title=\"Minimize\"\n              onClick={() => setMinimize(true)}\n            />\n          )}\n        </div>\n        <div style={{ position: \"relative\", width: \"100%\", height: \"100%\" }}>\n          <button\n            onClick={onClickToggleAudioMuted}\n            title={isAudioTrackMuted ? \"Start\" : \"Stop\"}\n            css={buttonStyle}\n          >\n            <i className=\"material-icons\" css={{ fontsize: \"xxx-large\" }}>\n              {isAudioTrackMuted ? \"mic_off\" : \"mic\"}\n            </i>\n          </button>\n        </div>\n        <div css={controllerStyle}>\n          {!isAudioTrackMuted && <VADetector stream={stream} />}\n          <div style={{ color: \"white\" }}>{progress}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RecognitionLayout;\n\nconst wrapperStyle = css({\n  outline: `1px solid ${globalColors.gray}`,\n  transition: \"all .2s ease\",\n  willChange: \"transform\",\n});\n\nconst minimizeStyle = css({\n  transform: \"translateX(-85%)\",\n});\n\nconst localStreamWidth = 240;\nconst videoStyle = css({\n  position: \"relative\",\n  width: localStreamWidth,\n  height: (localStreamWidth / 4) * 3,\n  backgroundColor: globalColors.black,\n});\n\nconst controllerStyle = css({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  bottom: 0,\n  zIndex: 1,\n  padding: 5,\n});\n\nconst actionStyle = css({\n  position: \"absolute\",\n  top: 4,\n  right: 4,\n  zIndex: 100,\n  display: \"flex\",\n  alignItems: \"center\",\n  color: globalColors.white,\n});\n\nconst buttonStyle = css({\n  padding: \"0 1px\",\n  appearance: \"none\",\n  border: \"none\",\n  background: \"none\",\n  color: \"white\",\n  cursor: \"pointer\",\n  position: \"absolute\",\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  margin: \"auto\",\n  width: 70,\n  height: 70,\n});\n","/* eslint-disable no-undef */\nexport class RecognitionEffect {\n  recognition: SpeechRecognition = new (window as any).webkitSpeechRecognition();\n  running = false;\n\n  onFinal?: (str: string) => void;\n  onProgress?: (str: string) => void;\n  onError?: () => void;\n\n  constructor() {\n    this.recognition.continuous = true;\n    this.recognition.interimResults = true;\n\n    this.recognition.onresult = (event) => {\n      for (let i = event.resultIndex; i < event.results.length; ++i) {\n        if (event.results[i].isFinal) {\n          if (this.onFinal) this.onFinal(event.results[i][0].transcript);\n          this.recognition.start();\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (this.onProgress) this.onProgress(event.results[i][0].transcript);\n        }\n      }\n    };\n\n    this.recognition.onerror = (event) => {\n      console.warn(event);\n      if (this.onError) this.onError();\n    };\n\n    this.start();\n  }\n\n  start() {\n    this.running = true;\n    this.recognition.start();\n  }\n\n  stop() {\n    this.running = false;\n    this.recognition.stop();\n  }\n\n  toggle() {\n    if (this.running) {\n      this.stop();\n    } else {\n      this.start();\n    }\n  }\n}\n","import React, {\n  useContext,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport RecognitionLayout from \"../components/recognition-layout\";\nimport { RecognitionEffect } from \"../effects/recognition\";\n\nconst Recognition: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n  const recognitionRef = useRef<RecognitionEffect>();\n  const [progress, setProgress] = useState(\"\");\n\n  useEffect(() => {\n    const recognition = (recognitionRef.current = new RecognitionEffect());\n    recognition.onFinal = (str) => {\n      store.room.addLocalSubtitle({\n        from: store.client.displayName,\n        text: str,\n      });\n    };\n    recognition.onError = () => {\n      console.log(\"error\");\n      store.subtitle.toggleMuted();\n    };\n    recognition.onProgress = setProgress;\n  }, [store]);\n\n  const onClickToggleAudioMuted = useCallback(() => {\n    const recognition = recognitionRef.current!;\n    recognition.toggle();\n    store.subtitle.toggleMuted();\n  }, [store]);\n\n  const onClickDownload = useCallback(() => {\n    const content = [...store.room.subtitles].reduce((acc, cur) => {\n      acc += `${cur.from}:${cur.text}\\n`;\n      return acc;\n    }, \"\");\n    const blob = new Blob([content], { type: \"text/plain\" });\n    const url = window.URL.createObjectURL(blob);\n    const anchor = document.createElement(\"a\");\n    anchor.download = name;\n    anchor.href = url;\n    anchor.click();\n  }, [store]);\n\n  const { media, client, ui, subtitle } = store;\n  return (\n    <Observer>\n      {() => {\n        if (ui.isSettingsOpen) {\n          return <></>;\n        }\n\n        return (\n          <RecognitionLayout\n            stream={media.stream}\n            displayName={client.displayName}\n            isAudioTrackMuted={subtitle.isAudioTrackMuted}\n            onClickToggleAudioMuted={onClickToggleAudioMuted}\n            onClickDownload={onClickDownload}\n            progress={progress}\n          />\n        );\n      }}\n    </Observer>\n  );\n};\n\nexport default Recognition;\n","import debug from \"debug\";\nimport RootStore from \"../stores\";\nconst log = debug(\"effect:remote-streams\");\n\nexport const setPinned = ({ room }: RootStore) => (id: string) => {\n  const pinnedId = room.pinnedId === id ? null : id;\n  log(\"setPinned()\", pinnedId);\n\n  room.pinnedId = pinnedId;\n};\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { RoomStream } from \"skyway-js\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { RoomStat } from \"../utils/types\";\nimport { rightMenuWidth } from \"../utils/style\";\nimport Video from \"./video\";\nimport StreamController from \"./stream-controller\";\nimport { Icon, IconButton } from \"./icon\";\nimport StreamInfo from \"./stream-info\";\nimport VADetector from \"./va-detector\";\n\ninterface Props {\n  stream: RoomStream;\n  stat: RoomStat | null;\n  isPinned: boolean;\n  onClickSetPinned: () => void;\n}\nconst RemoteStreamLayout: FunctionComponent<Props> = ({\n  stream,\n  stat,\n  isPinned,\n  onClickSetPinned,\n}: Props) => {\n  const isVideoDisabled = stat && stat.isVideoDisabled ? true : false;\n  const [isInfoShown, setInfoShown] = useState(false);\n\n  return (\n    <>\n      <div css={videoStyle}>\n        <Video stream={stream} />\n        <div css={actionStyle}>\n          {!isVideoDisabled ? (\n            <IconButton\n              name={isPinned ? \"cancel_presentation\" : \"present_to_all\"}\n              showEdge={true}\n              title=\"Pin this video\"\n              onClick={onClickSetPinned}\n            />\n          ) : null}\n          <IconButton\n            name=\"info\"\n            showEdge={true}\n            title=\"Toggle stream info\"\n            onClick={() => setInfoShown(!isInfoShown)}\n          />\n        </div>\n        {isInfoShown && stat !== null ? (\n          <div css={infoStyle}>\n            <StreamInfo stream={stream} browser={stat.browser} />\n          </div>\n        ) : null}\n        <div css={controllerStyle}>\n          {stat !== null ? (\n            <>\n              <VADetector stream={stream} />\n              <StreamController\n                displayName={stat.displayName}\n                browser={stat.browser}\n                controllers={\n                  <>\n                    {stat.isVideoDisabled ? null : (\n                      <Icon\n                        name={stat.isVideoMuted ? \"videocam_off\" : \"videocam\"}\n                      />\n                    )}\n                    <Icon name={stat.isAudioMuted ? \"mic_off\" : \"mic\"} />\n                  </>\n                }\n              />\n            </>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default RemoteStreamLayout;\n\nconst videoStyle = css({\n  position: \"relative\",\n  height: (rightMenuWidth / 4) * 3,\n  backgroundColor: globalColors.black,\n});\n\nconst infoStyle = css({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  zIndex: 10,\n});\n\nconst controllerStyle = css({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  bottom: 0,\n  zIndex: 1,\n});\n\nconst actionStyle = css({\n  position: \"absolute\",\n  top: 4,\n  right: 4,\n  zIndex: 100,\n  display: \"flex\",\n  alignItems: \"center\",\n  color: globalColors.white,\n});\n","import * as React from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { RoomStream } from \"skyway-js\";\nimport { css } from \"@emotion/core\";\nimport { RoomStat } from \"../utils/types\";\nimport { rightMenuWidth, rightMenuTogglerHeight } from \"../utils/style\";\nimport RemoteStreamLayout from \"./remote-stream-layout\";\n\ntype StreamEntry = [string, RoomStream];\nconst sortByVideo: (a: StreamEntry, b: StreamEntry) => number = (\n  [, aStream],\n  [, bStream]\n) =>\n  aStream.getVideoTracks().length > bStream.getVideoTracks().length ? -1 : 1;\n\ninterface Props {\n  streams: StreamEntry[];\n  stats: [string, RoomStat][];\n  pinnedId: string;\n  onClickSetPinned: (id: string) => void;\n}\nconst RemoteStreamsLayout: FunctionComponent<Props> = ({\n  streams,\n  stats,\n  pinnedId,\n  onClickSetPinned,\n}: Props) => (\n  <div css={wrapperStyle}>\n    <div css={headStyle}>\n      <span css={numberStyle}>{streams.length}</span> participant(s)\n    </div>\n    {streams.sort(sortByVideo).map(([peerId, stream]) => {\n      const entry = stats.find(([id]) => id === peerId);\n      const stat = entry ? entry[1] : null;\n      const isPinned = peerId === pinnedId;\n      return (\n        <RemoteStreamLayout\n          key={peerId}\n          stream={stream}\n          stat={stat}\n          isPinned={isPinned}\n          onClickSetPinned={() => onClickSetPinned(peerId)}\n        />\n      );\n    })}\n  </div>\n);\n\nexport default RemoteStreamsLayout;\n\nconst wrapperStyle = css({\n  width: rightMenuWidth,\n});\n\nconst headStyle = css({\n  height: rightMenuTogglerHeight,\n  padding: 4,\n  boxSizing: \"border-box\",\n  fontSize: \".8rem\",\n  textAlign: \"center\",\n});\n\nconst numberStyle = css({\n  fontSize: \".9rem\",\n  fontWeight: \"bold\",\n});\n","import * as React from \"react\";\nimport { useContext, useCallback } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport { setPinned } from \"../effects/remote-streams\";\nimport RemoteStreamsLayout from \"../components/remote-streams-layout\";\n\nconst RemoteStreams: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const onClickSetPinned = useCallback(setPinned(store), [store]);\n\n  const { room } = store;\n  return (\n    <Observer>\n      {() => (\n        <RemoteStreamsLayout\n          streams={[...room.streams.entries()]}\n          stats={[...room.stats.entries()]}\n          pinnedId={room.pinnedId || \"\"}\n          onClickSetPinned={onClickSetPinned}\n        />\n      )}\n    </Observer>\n  );\n};\n\nexport default RemoteStreams;\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst Layout: FunctionComponent<Props> = ({ children }) => (\n  <div css={wrapperStyle}>{children}</div>\n);\n\nexport default Layout;\n\nconst wrapperStyle = css({\n  height: \"100vh\",\n  position: \"relative\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst Main: FunctionComponent<Props> = ({ children }) => (\n  <div css={wrapperStyle}>{children}</div>\n);\n\nexport default Main;\n\nconst wrapperStyle = css({\n  position: \"relative\",\n  width: \"100%\",\n  height: \"100%\",\n  backgroundImage: \"url(./images/logo.svg)\",\n  backgroundRepeat: \"no-repeat\",\n  backgroundPosition: \"center center\",\n});\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { zIndex } from \"../utils/style\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst LeftBottom: FunctionComponent<Props> = ({ children }: Props) => (\n  <div css={wrapperStyle}>\n    <div css={bottomStyle}>{children}</div>\n  </div>\n);\n\nexport default LeftBottom;\n\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  bottom: 0,\n  zIndex: zIndex.base,\n});\n\nconst bottomStyle = css({\n  position: \"absolute\",\n  left: 8,\n  bottom: 8,\n});\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { zIndex, rightMenuWidth, rightMenuTogglerHeight } from \"../utils/style\";\nimport { IconButton } from \"./icon\";\n\ninterface Props {\n  children: ReactNode;\n  openers: ReactNode[];\n}\nconst RightMenu: FunctionComponent<Props> = ({ children, openers }: Props) => {\n  const [isVisible, setVisible] = useState(true);\n\n  return (\n    <div css={wrapperStyle} className={isVisible ? visibleClass : \"\"}>\n      <div css={scrollerStyle}>{children}</div>\n      <div css={[knobStyle, togglerStyle]}>\n        <IconButton\n          name={isVisible ? \"chevron_right\" : \"chevron_left\"}\n          onClick={() => setVisible(!isVisible)}\n        />\n      </div>\n      {openers.map((opener, idx) => (\n        <div\n          key={idx}\n          css={[knobStyle, css({ top: rightMenuTogglerHeight * (idx + 1) })]}\n        >\n          {opener}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default RightMenu;\n\nconst visibleClass = \"-visible\";\nconst wrapperWidth = rightMenuWidth;\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 0,\n  right: 0,\n  bottom: 0,\n  zIndex: zIndex.base,\n  width: wrapperWidth,\n  backgroundColor: globalColors.gray,\n  height: \"100%\",\n  transition: \".25s ease transform\",\n  transform: `translateX(${wrapperWidth}px)`,\n  willChange: \"transform\",\n\n  [`&.${visibleClass}`]: {\n    transform: \"translateX(0)\",\n  },\n});\n\nconst scrollerStyle = css({\n  height: \"100%\",\n  overflowY: \"scroll\",\n  overflowScrolling: \"touch\",\n});\n\nconst knobStyle = css({\n  boxSizing: \"border-box\",\n  position: \"absolute\",\n  left: -rightMenuTogglerHeight,\n  width: rightMenuTogglerHeight,\n  height: rightMenuTogglerHeight,\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  backgroundColor: \"inherit\",\n  cursor: \"pointer\",\n  borderBottom: `1px solid ${globalColors.white}`,\n});\nconst togglerStyle = css({\n  top: rightMenuTogglerHeight * 0,\n});\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { zIndex } from \"../utils/style\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst LeftTop: FunctionComponent<Props> = ({ children }: Props) => (\n  <div css={wrapperStyle}>\n    <div css={bottomStyle}>{children}</div>\n  </div>\n);\n\nexport default LeftTop;\n\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  bottom: 0,\n  zIndex: zIndex.base,\n});\n\nconst bottomStyle = css({\n  position: \"absolute\",\n  left: 8,\n  top: 8,\n});\n","import * as React from \"react\";\nimport { FunctionComponent, ReactNode } from \"react\";\nimport { css } from \"@emotion/core\";\nimport { zIndex } from \"../utils/style\";\n\ninterface Props {\n  children: ReactNode;\n}\nconst Bottom: FunctionComponent<Props> = ({ children }: Props) => (\n  <div css={wrapperStyle}>\n    <div css={bottomStyle}>{children}</div>\n  </div>\n);\n\nexport default Bottom;\n\nconst wrapperStyle = css({\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  bottom: 0,\n  zIndex: zIndex.base,\n});\n\nconst bottomStyle = css({\n  position: \"absolute\",\n  left: \"30vw\",\n  bottom: 8,\n});\n","import React, { FC, useState } from \"react\";\nimport { RoomSubtitle } from \"../utils/types\";\nimport { css } from \"@emotion/core\";\nimport { globalColors } from \"../../shared/global-style\";\nimport { IconButton } from \"./icon\";\nimport facepaint from \"facepaint\";\n\nconst mq = facepaint(\n  [0, 1200, 1800].map((bp) => `@media (min-width: ${bp}px)`),\n  { literal: true }\n);\n\nexport const SubtitleLayout: FC<{ subtitles: RoomSubtitle[] }> = ({\n  subtitles,\n}) => {\n  const [isMinimize, setMinimize] = useState(false);\n\n  return (\n    <div\n      css={mq({\n        width: [300, 450, 600],\n      })}\n    >\n      <div css={isMinimize ? [wrapperStyle, minimizeStyle] : wrapperStyle}>\n        <div style={{ color: \"white\" }}>subtitle</div>\n        <div css={actionStyle}>\n          {isMinimize ? (\n            <IconButton\n              name=\"keyboard_arrow_up\"\n              showEdge={true}\n              title=\"Maximize\"\n              onClick={() => setMinimize(false)}\n            />\n          ) : (\n            <IconButton\n              name=\"keyboard_arrow_down\"\n              showEdge={true}\n              title=\"Minimize\"\n              onClick={() => setMinimize(true)}\n            />\n          )}\n        </div>\n        {[...subtitles].slice(-10).map((subtitle, i) => (\n          <div\n            key={i}\n            style={{ color: \"white\", fontWeight: 500 }}\n          >{`(${subtitle.from}) ${subtitle.text}`}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst wrapperStyle = css({\n  outline: `1px solid ${globalColors.gray}`,\n  transition: \"all .2s ease\",\n  willChange: \"transform\",\n  minHeight: 50,\n  background: \"black\",\n  padding: 5,\n});\n\nconst minimizeStyle = css({\n  transform: \"translateY(85%)\",\n});\n\nconst actionStyle = css({\n  position: \"absolute\",\n  top: 4,\n  right: 4,\n  zIndex: 100,\n  display: \"flex\",\n  alignItems: \"center\",\n  color: globalColors.white,\n});\n","import * as React from \"react\";\nimport { useContext } from \"react\";\nimport { FunctionComponent } from \"react\";\nimport { Observer } from \"mobx-react\";\nimport { StoreContext } from \"../contexts\";\nimport { SubtitleLayout } from \"../components/subtitle-layout\";\n\nexport const Subtitle: FunctionComponent<{}> = () => {\n  const store = useContext(StoreContext);\n\n  const { room } = store;\n  return (\n    <Observer>\n      {() => {\n        return <SubtitleLayout subtitles={[...room.subtitles]} />;\n      }}\n    </Observer>\n  );\n};\n","import * as React from \"react\";\nimport Bootstrap from \"./observers/bootstrap\";\nimport Settings from \"./observers/settings\";\nimport Notification from \"./observers/notification\";\nimport { ReactionOpener } from \"./observers/reaction\";\nimport { ChatOpener, Chat } from \"./observers/chat\";\nimport { StatsOpener, Stats } from \"./observers/stats\";\nimport { ExitOpener } from \"./observers/exit\";\nimport PinnedStream from \"./observers/pinned-stream\";\nimport LocalStream from \"./observers/local-stream\";\nimport RecognitionEffect from \"./observers/recognition\";\nimport RemoteStreams from \"./observers/remote-streams\";\nimport Layout from \"./components/layout\";\nimport ErrorDetail from \"./components/error-detail\";\nimport Main from \"./components/main\";\nimport LeftBottom from \"./components/left-bottom\";\nimport RightMenu from \"./components/right-menu\";\nimport LeftTop from \"./components/left-top\";\nimport Bottom from \"./components/bottom\";\nimport { Subtitle } from \"./observers/subtitle\";\n\ninterface State {\n  err: Error | null;\n}\nclass App extends React.Component<{}, State> {\n  constructor(props: {}, state: State) {\n    super(props, state);\n    this.state = { err: null };\n  }\n\n  render() {\n    if (this.state.err !== null) {\n      return (\n        <Layout>\n          <ErrorDetail error={this.state.err} />\n        </Layout>\n      );\n    }\n\n    return (\n      <Layout>\n        <Bootstrap>\n          {/* Base Layer */}\n          <Main>\n            <PinnedStream />\n          </Main>\n          <LeftTop>\n            <RecognitionEffect />\n          </LeftTop>\n          <LeftBottom>\n            <LocalStream />\n          </LeftBottom>\n          <Bottom>\n            <Subtitle />\n          </Bottom>\n          <RightMenu\n            openers={[\n              <ChatOpener key=\"chat\" />,\n              <ReactionOpener key=\"reaction\" />,\n              <StatsOpener key=\"stats\" />,\n              <ExitOpener key=\"exit\" />,\n            ]}\n          >\n            <RemoteStreams />\n          </RightMenu>\n\n          {/* Modal Layer */}\n          <Settings />\n          <Chat />\n          <Stats />\n          <Notification />\n        </Bootstrap>\n      </Layout>\n    );\n  }\n\n  componentDidCatch(err: Error) {\n    this.setState({ err });\n  }\n}\n\nexport default App;\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { Global } from \"@emotion/core\";\nimport debug from \"debug\";\nimport { name, version } from \"../../package.json\";\nimport { globalStyle } from \"../shared/global-style\";\nimport App from \"./app\";\n\nconst log = debug(\"main\");\n\n(async () => {\n  log(`${name} v${version}`);\n  document.title += ` v${version}`;\n\n  render(\n    <React.StrictMode>\n      <Global styles={globalStyle} />\n      <App />\n    </React.StrictMode>,\n    document.getElementById(\"app-root\")\n  );\n})().catch((err) => console.error(err));\n"],"sourceRoot":""}